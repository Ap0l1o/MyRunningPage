{"version":3,"file":"component---src-pages-index-js-9738216c74c50e4235c1.js","mappings":"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","sources":["webpack://my-running-site/./node_modules/browser-monads/lib/index.js","webpack://my-running-site/./node_modules/camelcase/index.js","webpack://my-running-site/../src/image-utils.ts","webpack://my-running-site/../src/components/hooks.ts","webpack://my-running-site/../src/components/layout-wrapper.tsx","webpack://my-running-site/../src/components/picture.tsx","webpack://my-running-site/../src/components/placeholder.tsx","webpack://my-running-site/../src/components/main-image.tsx","webpack://my-running-site/../src/components/gatsby-image.server.tsx","webpack://my-running-site/../src/components/gatsby-image.browser.tsx","webpack://my-running-site/../src/components/static-image.server.tsx","webpack://my-running-site/../src/components/static-image.tsx","webpack://my-running-site/./node_modules/victory-bar/es/helper-methods.js","webpack://my-running-site/./node_modules/victory-bar/es/bar-helper-methods.js","webpack://my-running-site/./node_modules/victory-bar/es/geometry-helper-methods.js","webpack://my-running-site/./node_modules/victory-bar/es/path-helper-methods.js","webpack://my-running-site/./node_modules/victory-bar/es/bar.js","webpack://my-running-site/./node_modules/victory-bar/es/victory-bar.js","webpack://my-running-site/./node_modules/victory-tooltip/es/flyout.js","webpack://my-running-site/./node_modules/victory-tooltip/es/victory-tooltip.js","webpack://my-running-site/./src/components/WeeklyChart.js","webpack://my-running-site/./src/components/MonthlyHeatmap.js","webpack://my-running-site/./src/components/YearlyChart.js","webpack://my-running-site/./src/components/Profile.js","webpack://my-running-site/./src/components/AllRunsData.js","webpack://my-running-site/./src/components/StatsSummary.js","webpack://my-running-site/./src/pages/index.js","webpack://my-running-site/./node_modules/nothing-mock/dist/nothing-mock.es.js"],"sourcesContent":["'use strict';\n\nvar _require = require('nothing-mock'),\n    Nothing = _require.Nothing,\n    isNothing = _require.isNothing;\n\nvar win = typeof window !== 'undefined' ? window : Nothing;\nvar doc = typeof document !== 'undefined' ? document : Nothing;\n\nmodule.exports.window = win;\nmodule.exports.document = doc;\nmodule.exports.exists = function (variable) {\n  return !isNothing(variable);\n};","'use strict';\n\nconst UPPERCASE = /[\\p{Lu}]/u;\nconst LOWERCASE = /[\\p{Ll}]/u;\nconst LEADING_CAPITAL = /^[\\p{Lu}](?![\\p{Lu}])/gu;\nconst IDENTIFIER = /([\\p{Alpha}\\p{N}_]|$)/u;\nconst SEPARATORS = /[_.\\- ]+/;\n\nconst LEADING_SEPARATORS = new RegExp('^' + SEPARATORS.source);\nconst SEPARATORS_AND_IDENTIFIER = new RegExp(SEPARATORS.source + IDENTIFIER.source, 'gu');\nconst NUMBERS_AND_IDENTIFIER = new RegExp('\\\\d+' + IDENTIFIER.source, 'gu');\n\nconst preserveCamelCase = (string, toLowerCase, toUpperCase) => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\n\tfor (let i = 0; i < string.length; i++) {\n\t\tconst character = string[i];\n\n\t\tif (isLastCharLower && UPPERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i) + '-' + string.slice(i);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\ti++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && LOWERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = toLowerCase(character) === character && toUpperCase(character) !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = toUpperCase(character) === character && toLowerCase(character) !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst preserveConsecutiveUppercase = (input, toLowerCase) => {\n\tLEADING_CAPITAL.lastIndex = 0;\n\n\treturn input.replace(LEADING_CAPITAL, m1 => toLowerCase(m1));\n};\n\nconst postProcess = (input, toUpperCase) => {\n\tSEPARATORS_AND_IDENTIFIER.lastIndex = 0;\n\tNUMBERS_AND_IDENTIFIER.lastIndex = 0;\n\n\treturn input.replace(SEPARATORS_AND_IDENTIFIER, (_, identifier) => toUpperCase(identifier))\n\t\t.replace(NUMBERS_AND_IDENTIFIER, m => toUpperCase(m));\n};\n\nconst camelCase = (input, options) => {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = {\n\t\tpascalCase: false,\n\t\tpreserveConsecutiveUppercase: false,\n\t\t...options\n\t};\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tconst toLowerCase = options.locale === false ?\n\t\tstring => string.toLowerCase() :\n\t\tstring => string.toLocaleLowerCase(options.locale);\n\tconst toUpperCase = options.locale === false ?\n\t\tstring => string.toUpperCase() :\n\t\tstring => string.toLocaleUpperCase(options.locale);\n\n\tif (input.length === 1) {\n\t\treturn options.pascalCase ? toUpperCase(input) : toLowerCase(input);\n\t}\n\n\tconst hasUpperCase = input !== toLowerCase(input);\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input, toLowerCase, toUpperCase);\n\t}\n\n\tinput = input.replace(LEADING_SEPARATORS, '');\n\n\tif (options.preserveConsecutiveUppercase) {\n\t\tinput = preserveConsecutiveUppercase(input, toLowerCase);\n\t} else {\n\t\tinput = toLowerCase(input);\n\t}\n\n\tif (options.pascalCase) {\n\t\tinput = toUpperCase(input.charAt(0)) + input.slice(1);\n\t}\n\n\treturn postProcess(input, toUpperCase);\n};\n\nmodule.exports = camelCase;\n// TODO: Remove this for the next major release\nmodule.exports.default = camelCase;\n","import camelCase from \"camelcase\"\nimport type { IGatsbyImageData } from \"./index\"\n\nconst DEFAULT_PIXEL_DENSITIES = [0.25, 0.5, 1, 2]\nexport const DEFAULT_BREAKPOINTS = [750, 1080, 1366, 1920]\nexport const EVERY_BREAKPOINT = [\n  320, 654, 768, 1024, 1366, 1600, 1920, 2048, 2560, 3440, 3840, 4096,\n]\nconst DEFAULT_FLUID_WIDTH = 800\nconst DEFAULT_FIXED_WIDTH = 800\nconst DEFAULT_ASPECT_RATIO = 4 / 3\n\nexport type Fit = \"cover\" | \"fill\" | \"inside\" | \"outside\" | \"contain\"\n\nexport type Layout = \"fixed\" | \"fullWidth\" | \"constrained\"\nexport type ImageFormat = \"jpg\" | \"png\" | \"webp\" | \"avif\" | \"auto\" | \"\"\n\n/**\n * The minimal required reporter, as we don't want to import it from gatsby-cli\n */\nexport interface IReporter {\n  warn(message: string): void\n}\n\nexport interface ISharpGatsbyImageArgs {\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  placeholder?: \"tracedSVG\" | \"dominantColor\" | \"blurred\" | \"none\"\n  tracedSVGOptions?: Record<string, unknown>\n  width?: number\n  height?: number\n  aspectRatio?: number\n  sizes?: string\n  quality?: number\n  transformOptions?: {\n    fit?: Fit\n    cropFocus?: number | string\n    duotone?: {\n      highlight: string\n      shadow: string\n      opacity?: number\n    }\n    grayscale?: boolean\n    rotate?: number\n    trim?: number\n  }\n  jpgOptions?: Record<string, unknown>\n  pngOptions?: Record<string, unknown>\n  webpOptions?: Record<string, unknown>\n  avifOptions?: Record<string, unknown>\n  blurredOptions?: { width?: number; toFormat?: ImageFormat }\n  breakpoints?: Array<number>\n  outputPixelDensities?: Array<number>\n  backgroundColor?: string\n}\n\nexport interface IImageSizeArgs {\n  width?: number\n  height?: number\n  layout?: Layout\n  filename: string\n  outputPixelDensities?: Array<number>\n  breakpoints?: Array<number>\n  fit?: Fit\n  reporter?: IReporter\n  sourceMetadata: { width: number; height: number }\n}\n\nexport interface IImageSizes {\n  sizes: Array<number>\n  presentationWidth: number\n  presentationHeight: number\n  aspectRatio: number\n  unscaledWidth: number\n}\n\nexport interface IImage {\n  src: string\n  width: number\n  height: number\n  format: ImageFormat\n}\n\nexport interface IGatsbyImageHelperArgs {\n  pluginName: string\n  generateImageSource: (\n    filename: string,\n    width: number,\n    height: number,\n    format: ImageFormat,\n    fit?: Fit,\n    options?: Record<string, unknown>\n  ) => IImage\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  filename: string\n  placeholderURL?: string\n  width?: number\n  height?: number\n  sizes?: string\n  reporter?: IReporter\n  sourceMetadata?: { width: number; height: number; format: ImageFormat }\n  fit?: Fit\n  options?: Record<string, unknown>\n  breakpoints?: Array<number>\n  backgroundColor?: string\n  aspectRatio?: number\n}\n\nconst warn = (message: string): void => console.warn(message)\n\nconst sortNumeric = (a: number, b: number): number => a - b\n\nexport const getSizes = (width: number, layout: Layout): string | undefined => {\n  switch (layout) {\n    // If screen is wider than the max size, image width is the max size,\n    // otherwise it's the width of the screen\n    case `constrained`:\n      return `(min-width: ${width}px) ${width}px, 100vw`\n\n    // Image is always the same width, whatever the size of the screen\n    case `fixed`:\n      return `${width}px`\n\n    // Image is always the width of the screen\n    case `fullWidth`:\n      return `100vw`\n\n    default:\n      return undefined\n  }\n}\n\nexport const getSrcSet = (images: Array<IImage>): string =>\n  images.map(image => `${image.src} ${image.width}w`).join(`,\\n`)\n\nexport function formatFromFilename(filename: string): ImageFormat | undefined {\n  const dot = filename.lastIndexOf(`.`)\n  if (dot !== -1) {\n    const ext = filename.slice(dot + 1)\n    if (ext === `jpeg`) {\n      return `jpg`\n    }\n    if (ext.length === 3 || ext.length === 4) {\n      return ext as ImageFormat\n    }\n  }\n  return undefined\n}\n\nexport function setDefaultDimensions(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageHelperArgs {\n  let {\n    layout = `constrained`,\n    width,\n    height,\n    sourceMetadata,\n    breakpoints,\n    aspectRatio,\n    formats = [`auto`, `webp`],\n  } = args\n  formats = formats.map(format => format.toLowerCase() as ImageFormat)\n  layout = camelCase(layout) as Layout\n\n  if (width && height) {\n    return { ...args, formats, layout, aspectRatio: width / height }\n  }\n  if (sourceMetadata.width && sourceMetadata.height && !aspectRatio) {\n    aspectRatio = sourceMetadata.width / sourceMetadata.height\n  }\n\n  if (layout === `fullWidth`) {\n    width = width || sourceMetadata.width || breakpoints[breakpoints.length - 1]\n    height = height || Math.round(width / (aspectRatio || DEFAULT_ASPECT_RATIO))\n  } else {\n    if (!width) {\n      if (height && aspectRatio) {\n        width = height * aspectRatio\n      } else if (sourceMetadata.width) {\n        width = sourceMetadata.width\n      } else if (height) {\n        width = Math.round(height / DEFAULT_ASPECT_RATIO)\n      } else {\n        width = DEFAULT_FIXED_WIDTH\n      }\n    }\n\n    if (aspectRatio && !height) {\n      height = Math.round(width / aspectRatio)\n    } else if (!aspectRatio) {\n      aspectRatio = width / height\n    }\n  }\n  return { ...args, width, height, aspectRatio, layout, formats }\n}\n\n/**\n * Use this for getting an image for the blurred placeholder. This ensures the\n * aspect ratio and crop match the main image\n */\nexport function getLowResolutionImageURL(\n  args: IGatsbyImageHelperArgs,\n  width = 20\n): string {\n  args = setDefaultDimensions(args)\n  const { generateImageSource, filename, aspectRatio } = args\n  return generateImageSource(\n    filename,\n    width,\n    Math.round(width / aspectRatio),\n    args.sourceMetadata.format || `jpg`,\n    args.fit,\n    args.options\n  )?.src\n}\n\nexport function generateImageData(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageData {\n  args = setDefaultDimensions(args)\n\n  let {\n    pluginName,\n    sourceMetadata,\n    generateImageSource,\n    layout,\n    fit,\n    options,\n    width,\n    height,\n    filename,\n    reporter = { warn },\n    backgroundColor,\n    placeholderURL,\n  } = args\n\n  if (!pluginName) {\n    reporter.warn(\n      `[gatsby-plugin-image] \"generateImageData\" was not passed a plugin name`\n    )\n  }\n\n  if (typeof generateImageSource !== `function`) {\n    throw new Error(`generateImageSource must be a function`)\n  }\n\n  if (!sourceMetadata || (!sourceMetadata.width && !sourceMetadata.height)) {\n    // No metadata means we let the CDN handle max size etc, aspect ratio etc\n    sourceMetadata = {\n      width,\n      height,\n      format: sourceMetadata?.format || formatFromFilename(filename) || `auto`,\n    }\n  } else if (!sourceMetadata.format) {\n    sourceMetadata.format = formatFromFilename(filename)\n  }\n\n  const formats = new Set<ImageFormat>(args.formats)\n\n  if (formats.size === 0 || formats.has(`auto`) || formats.has(``)) {\n    formats.delete(`auto`)\n    formats.delete(``)\n    formats.add(sourceMetadata.format)\n  }\n\n  if (formats.has(`jpg`) && formats.has(`png`)) {\n    reporter.warn(\n      `[${pluginName}] Specifying both 'jpg' and 'png' formats is not supported. Using 'auto' instead`\n    )\n    if (sourceMetadata.format === `jpg`) {\n      formats.delete(`png`)\n    } else {\n      formats.delete(`jpg`)\n    }\n  }\n\n  const imageSizes = calculateImageSizes({ ...args, sourceMetadata })\n\n  const result: IGatsbyImageData[\"images\"] = {\n    sources: [],\n  }\n\n  let sizes = args.sizes\n  if (!sizes) {\n    sizes = getSizes(imageSizes.presentationWidth, layout)\n  }\n\n  formats.forEach(format => {\n    const images = imageSizes.sizes\n      .map(size => {\n        const imageSrc = generateImageSource(\n          filename,\n          size,\n          Math.round(size / imageSizes.aspectRatio),\n          format,\n          fit,\n          options\n        )\n        if (\n          !imageSrc?.width ||\n          !imageSrc.height ||\n          !imageSrc.src ||\n          !imageSrc.format\n        ) {\n          reporter.warn(\n            `[${pluginName}] The resolver for image ${filename} returned an invalid value.`\n          )\n          return undefined\n        }\n        return imageSrc\n      })\n      .filter(Boolean)\n\n    if (format === `jpg` || format === `png` || format === `auto`) {\n      const unscaled =\n        images.find(img => img.width === imageSizes.unscaledWidth) || images[0]\n\n      if (unscaled) {\n        result.fallback = {\n          src: unscaled.src,\n          srcSet: getSrcSet(images),\n          sizes,\n        }\n      }\n    } else {\n      result.sources?.push({\n        srcSet: getSrcSet(images),\n        sizes,\n        type: `image/${format}`,\n      })\n    }\n  })\n\n  const imageProps: Partial<IGatsbyImageData> = {\n    images: result,\n    layout,\n    backgroundColor,\n  }\n\n  if (placeholderURL) {\n    imageProps.placeholder = { fallback: placeholderURL }\n  }\n\n  switch (layout) {\n    case `fixed`:\n      imageProps.width = imageSizes.presentationWidth\n      imageProps.height = imageSizes.presentationHeight\n      break\n\n    case `fullWidth`:\n      imageProps.width = 1\n      imageProps.height = 1 / imageSizes.aspectRatio\n      break\n\n    case `constrained`:\n      imageProps.width = args.width || imageSizes.presentationWidth || 1\n      imageProps.height = (imageProps.width || 1) / imageSizes.aspectRatio\n  }\n\n  return imageProps as IGatsbyImageData\n}\n\nconst dedupeAndSortDensities = (values: Array<number>): Array<number> =>\n  Array.from(new Set([1, ...values])).sort(sortNumeric)\n\nexport function calculateImageSizes(args: IImageSizeArgs): IImageSizes {\n  const {\n    width,\n    height,\n    filename,\n    layout = `constrained`,\n    sourceMetadata: imgDimensions,\n    reporter = { warn },\n    breakpoints = DEFAULT_BREAKPOINTS,\n  } = args\n\n  // check that all dimensions provided are positive\n  const userDimensions = { width, height }\n  const erroneousUserDimensions = Object.entries(userDimensions).filter(\n    ([_, size]) => typeof size === `number` && size < 1\n  )\n  if (erroneousUserDimensions.length) {\n    throw new Error(\n      `Specified dimensions for images must be positive numbers (> 0). Problem dimensions you have are ${erroneousUserDimensions\n        .map(dim => dim.join(`: `))\n        .join(`, `)}`\n    )\n  }\n\n  if (layout === `fixed`) {\n    return fixedImageSizes(args)\n  } else if (layout === `constrained`) {\n    return responsiveImageSizes(args)\n  } else if (layout === `fullWidth`) {\n    return responsiveImageSizes({ breakpoints, ...args })\n  } else {\n    reporter.warn(\n      `No valid layout was provided for the image at ${filename}. Valid image layouts are fixed, fullWidth, and constrained. Found ${layout}`\n    )\n    return {\n      sizes: [imgDimensions.width],\n      presentationWidth: imgDimensions.width,\n      presentationHeight: imgDimensions.height,\n      aspectRatio: imgDimensions.width / imgDimensions.height,\n      unscaledWidth: imgDimensions.width,\n    }\n  }\n}\nexport function fixedImageSizes({\n  filename,\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  reporter = { warn },\n}: IImageSizeArgs): IImageSizes {\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  if (!width) {\n    if (!height) {\n      width = DEFAULT_FIXED_WIDTH\n    } else {\n      width = Math.round(height * aspectRatio)\n    }\n  } else if (!height) {\n    height = Math.round(width / aspectRatio)\n  }\n\n  const originalWidth = width // will use this for presentationWidth, don't want to lose it\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n\n  // If the image is smaller than requested, warn the user that it's being processed as such\n  // print out this message with the necessary information before we overwrite it for sizing\n  if (isTopSizeOverriden) {\n    const fixedDimension = imgDimensions.width < width ? `width` : `height`\n    reporter.warn(`\nThe requested ${fixedDimension} \"${\n      fixedDimension === `width` ? width : height\n    }px\" for the image ${filename} was larger than the actual image ${fixedDimension} of ${\n      imgDimensions[fixedDimension]\n    }px. If possible, replace the current image with a larger one.`)\n\n    if (fixedDimension === `width`) {\n      width = imgDimensions.width\n      height = Math.round(width / aspectRatio)\n    } else {\n      height = imgDimensions.height\n      width = height * aspectRatio\n    }\n  }\n\n  const sizes = densities\n    .filter(size => size >= 1) // remove smaller densities because fixed images don't need them\n    .map(density => Math.round(density * (width as number)))\n    .filter(size => size <= imgDimensions.width)\n\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function responsiveImageSizes({\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  breakpoints,\n  layout,\n}: IImageSizeArgs): IImageSizes {\n  let sizes\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  // Case 1: width of height were passed in, make sure it isn't larger than the actual image\n  width = width && Math.min(width, imgDimensions.width)\n  height = height && Math.min(height, imgDimensions.height)\n\n  // Case 2: neither width or height were passed in, use default size\n  if (!width && !height) {\n    width = Math.min(DEFAULT_FLUID_WIDTH, imgDimensions.width)\n    height = width / aspectRatio\n  }\n\n  // if it still hasn't been found, calculate width from the derived height.\n  // TS isn't smart enough to realise the type for height has been narrowed here\n  if (!width) {\n    width = (height as number) * aspectRatio\n  }\n\n  const originalWidth = width\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n  if (isTopSizeOverriden) {\n    width = imgDimensions.width\n    height = imgDimensions.height\n  }\n\n  width = Math.round(width)\n\n  if (breakpoints?.length > 0) {\n    sizes = breakpoints.filter(size => size <= imgDimensions.width)\n\n    // If a larger breakpoint has been filtered-out, add the actual image width instead\n    if (\n      sizes.length < breakpoints.length &&\n      !sizes.includes(imgDimensions.width)\n    ) {\n      sizes.push(imgDimensions.width)\n    }\n  } else {\n    sizes = densities.map(density => Math.round(density * (width as number)))\n    sizes = sizes.filter(size => size <= imgDimensions.width)\n  }\n\n  // ensure that the size passed in is included in the final output\n  if (layout === `constrained` && !sizes.includes(width)) {\n    sizes.push(width)\n  }\n  sizes = sizes.sort(sortNumeric)\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function getDimensionsAndAspectRatio(\n  dimensions,\n  options\n): { width: number; height: number; aspectRatio: number } {\n  // Calculate the eventual width/height of the image.\n  const imageAspectRatio = dimensions.width / dimensions.height\n\n  let width = options.width\n  let height = options.height\n\n  switch (options.fit) {\n    case `fill`: {\n      width = options.width ? options.width : dimensions.width\n      height = options.height ? options.height : dimensions.height\n      break\n    }\n    case `inside`: {\n      const widthOption = options.width\n        ? options.width\n        : Number.MAX_SAFE_INTEGER\n      const heightOption = options.height\n        ? options.height\n        : Number.MAX_SAFE_INTEGER\n\n      width = Math.min(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.min(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n    case `outside`: {\n      const widthOption = options.width ? options.width : 0\n      const heightOption = options.height ? options.height : 0\n\n      width = Math.max(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.max(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n\n    default: {\n      if (options.width && !options.height) {\n        width = options.width\n        height = Math.round(options.width / imageAspectRatio)\n      }\n\n      if (options.height && !options.width) {\n        width = Math.round(options.height * imageAspectRatio)\n        height = options.height\n      }\n    }\n  }\n\n  return {\n    width,\n    height,\n    aspectRatio: width / height,\n  }\n}\n","/* global GATSBY___IMAGE */\nimport { generateImageData, EVERY_BREAKPOINT } from \"../image-utils\"\nimport type { CSSProperties, HTMLAttributes, ImgHTMLAttributes } from \"react\"\nimport type { Node } from \"gatsby\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { IGatsbyImageData } from \"./gatsby-image.browser\"\nimport type {\n  IGatsbyImageHelperArgs,\n  Layout,\n  IImage,\n  ImageFormat,\n} from \"../image-utils\"\n\n// Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\nexport const hasNativeLazyLoadSupport = (): boolean =>\n  typeof HTMLImageElement !== `undefined` &&\n  `loading` in HTMLImageElement.prototype\n\nexport function gatsbyImageIsInstalled(): boolean {\n  return typeof GATSBY___IMAGE !== `undefined` && GATSBY___IMAGE\n}\n\nexport type IGatsbyImageDataParent<T = never> = T & {\n  gatsbyImageData: IGatsbyImageData\n}\nexport type IGatsbyImageParent<T = never> = T & {\n  gatsbyImage: IGatsbyImageData\n}\nexport type FileNode = Partial<Node> & {\n  childImageSharp?: IGatsbyImageDataParent<Partial<Node>>\n}\n\nconst isGatsbyImageData = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageData | any\n): node is IGatsbyImageData =>\n  // 🦆 check for a deep prop to be sure this is a valid gatsbyImageData object\n  Boolean(node?.images?.fallback?.src)\n\nconst isGatsbyImageDataParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageDataParent<T> | any\n): node is IGatsbyImageDataParent<T> => Boolean(node?.gatsbyImageData)\n\nconst isGatsbyImageParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageParent<T> | any\n): node is IGatsbyImageParent<T> => Boolean(node?.gatsbyImage)\n\nexport type ImageDataLike =\n  | FileNode\n  | IGatsbyImageDataParent\n  | IGatsbyImageParent\n  | IGatsbyImageData\n\nexport const getImage = (\n  node: ImageDataLike | null\n): IGatsbyImageData | undefined => {\n  // This checks both for gatsbyImageData and gatsbyImage\n  if (isGatsbyImageData(node)) {\n    return node\n  }\n  // gatsbyImageData GraphQL field\n  if (isGatsbyImageDataParent(node)) {\n    return node.gatsbyImageData\n  }\n  // gatsbyImage GraphQL field for Gatsby's Image CDN service\n  if (isGatsbyImageParent(node)) {\n    return node.gatsbyImage\n  }\n  return node?.childImageSharp?.gatsbyImageData\n}\n\nexport const getSrc = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.src\n\nexport const getSrcSet = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.srcSet\n\nexport function getWrapperProps(\n  width: number,\n  height: number,\n  layout: Layout\n): Pick<HTMLAttributes<HTMLElement>, \"className\" | \"style\"> & {\n  \"data-gatsby-image-wrapper\": string\n} {\n  const wrapperStyle: CSSProperties = {}\n\n  let className = `gatsby-image-wrapper`\n\n  // If the plugin isn't installed we need to apply the styles inline\n  if (!gatsbyImageIsInstalled()) {\n    wrapperStyle.position = `relative`\n    wrapperStyle.overflow = `hidden`\n  }\n\n  if (layout === `fixed`) {\n    wrapperStyle.width = width\n    wrapperStyle.height = height\n  } else if (layout === `constrained`) {\n    if (!gatsbyImageIsInstalled()) {\n      wrapperStyle.display = `inline-block`\n      wrapperStyle.verticalAlign = `top`\n    }\n    className = `gatsby-image-wrapper gatsby-image-wrapper-constrained`\n  }\n\n  return {\n    className,\n    \"data-gatsby-image-wrapper\": ``,\n    style: wrapperStyle,\n  }\n}\n\nexport interface IUrlBuilderArgs<OptionsType> {\n  width: number\n  height: number\n  baseUrl: string\n  format: ImageFormat\n  options: OptionsType\n}\nexport interface IGetImageDataArgs<OptionsType = Record<string, unknown>> {\n  baseUrl: string\n  /**\n   * For constrained and fixed images, the size of the image element\n   */\n  width?: number\n  height?: number\n  /**\n   * If available, pass the source image width and height\n   */\n  sourceWidth?: number\n  sourceHeight?: number\n  /**\n   * If only one dimension is passed, then this will be used to calculate the other.\n   */\n  aspectRatio?: number\n  layout?: Layout\n  /**\n   * Returns a URL based on the passed arguments. Should be a pure function\n   */\n  urlBuilder: (args: IUrlBuilderArgs<OptionsType>) => string\n\n  /**\n   * Should be a data URI\n   */\n  placeholderURL?: string\n  backgroundColor?: string\n  /**\n   * Used in error messages etc\n   */\n  pluginName?: string\n\n  /**\n   * If you do not support auto-format, pass an array of image types here\n   */\n  formats?: Array<ImageFormat>\n\n  breakpoints?: Array<number>\n\n  /**\n   * Passed to the urlBuilder function\n   */\n  options?: OptionsType\n}\n\n/**\n * Use this hook to generate gatsby-plugin-image data in the browser.\n */\nexport function getImageData<OptionsType>({\n  baseUrl,\n  urlBuilder,\n  sourceWidth,\n  sourceHeight,\n  pluginName = `getImageData`,\n  formats = [`auto`],\n  breakpoints,\n  options,\n  ...props\n}: IGetImageDataArgs<OptionsType>): IGatsbyImageData {\n  if (\n    !breakpoints?.length &&\n    (props.layout === `fullWidth` || (props.layout as string) === `FULL_WIDTH`)\n  ) {\n    breakpoints = EVERY_BREAKPOINT\n  }\n  const generateImageSource = (\n    baseUrl: string,\n    width: number,\n    height?: number,\n    format?: ImageFormat\n  ): IImage => {\n    return {\n      width,\n      height,\n      format,\n      src: urlBuilder({ baseUrl, width, height, options, format }),\n    }\n  }\n\n  const sourceMetadata: IGatsbyImageHelperArgs[\"sourceMetadata\"] = {\n    width: sourceWidth,\n    height: sourceHeight,\n    format: `auto`,\n  }\n\n  const args: IGatsbyImageHelperArgs = {\n    ...props,\n    pluginName,\n    generateImageSource,\n    filename: baseUrl,\n    formats,\n    breakpoints,\n    sourceMetadata,\n  }\n  return generateImageData(args)\n}\n\nexport function getMainProps(\n  isLoading: boolean,\n  isLoaded: boolean,\n  images: IGatsbyImageData[\"images\"],\n  loading?: \"eager\" | \"lazy\",\n  style: CSSProperties = {}\n): Partial<MainImageProps> {\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      transform: `translateZ(0)`,\n      transition: `opacity 250ms linear`,\n      width: `100%`,\n      willChange: `opacity`,\n      ...style,\n    }\n  }\n\n  const result = {\n    ...images,\n    loading,\n    shouldLoad: isLoading,\n    \"data-main-image\": ``,\n    style: {\n      ...style,\n      opacity: isLoaded ? 1 : 0,\n    },\n  }\n\n  return result\n}\n\nexport type PlaceholderImageAttrs = ImgHTMLAttributes<HTMLImageElement> &\n  Pick<PlaceholderProps, \"sources\" | \"fallback\"> & {\n    \"data-placeholder-image\"?: string\n  }\n\nexport function getPlaceholderProps(\n  placeholder: PlaceholderImageAttrs | undefined,\n  isLoaded: boolean,\n  layout: Layout,\n  width?: number,\n  height?: number,\n  backgroundColor?: string,\n  objectFit?: CSSProperties[\"objectFit\"],\n  objectPosition?: CSSProperties[\"objectPosition\"]\n): PlaceholderImageAttrs {\n  const wrapperStyle: CSSProperties = {}\n\n  if (backgroundColor) {\n    wrapperStyle.backgroundColor = backgroundColor\n\n    if (layout === `fixed`) {\n      wrapperStyle.width = width\n      wrapperStyle.height = height\n      wrapperStyle.backgroundColor = backgroundColor\n      wrapperStyle.position = `relative`\n    } else if (layout === `constrained`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    } else if (layout === `fullWidth`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    }\n  }\n\n  if (objectFit) {\n    wrapperStyle.objectFit = objectFit\n  }\n\n  if (objectPosition) {\n    wrapperStyle.objectPosition = objectPosition\n  }\n  const result: PlaceholderImageAttrs = {\n    ...placeholder,\n    \"aria-hidden\": true,\n    \"data-placeholder-image\": ``,\n    style: {\n      opacity: isLoaded ? 0 : 1,\n      transition: `opacity 500ms linear`,\n      ...wrapperStyle,\n    },\n  }\n\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    result.style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      width: `100%`,\n    }\n  }\n\n  return result\n}\n\nexport interface IArtDirectedImage {\n  media: string\n  image: IGatsbyImageData\n}\n\n/**\n * Generate a Gatsby image data object with multiple, art-directed images that display at different\n * resolutions.\n *\n * @param defaultImage The image displayed when no media query matches.\n * It is also used for all other settings applied to the image, such as width, height and layout.\n * You should pass a className to the component with media queries to adjust the size of the container,\n * as this cannot be adjusted automatically.\n * @param artDirected Array of objects which each contains a `media` string which is a media query\n * such as `(min-width: 320px)`, and the image object to use when that query matches.\n */\nexport function withArtDirection(\n  defaultImage: IGatsbyImageData,\n  artDirected: Array<IArtDirectedImage>\n): IGatsbyImageData {\n  const { images, placeholder, ...props } = defaultImage\n  const output: IGatsbyImageData = {\n    ...props,\n    images: {\n      ...images,\n      sources: [],\n    },\n    placeholder: placeholder && {\n      ...placeholder,\n      sources: [],\n    },\n  }\n\n  artDirected.forEach(({ media, image }) => {\n    if (!media) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(\n          \"[gatsby-plugin-image] All art-directed images passed to must have a value set for `media`. Skipping.\"\n        )\n      }\n      return\n    }\n\n    if (\n      image.layout !== defaultImage.layout &&\n      process.env.NODE_ENV === `development`\n    ) {\n      console.warn(\n        `[gatsby-plugin-image] Mismatched image layout: expected \"${defaultImage.layout}\" but received \"${image.layout}\". All art-directed images use the same layout as the default image`\n      )\n    }\n\n    output.images.sources.push(\n      ...image.images.sources.map(source => {\n        return { ...source, media }\n      }),\n      {\n        media,\n        srcSet: image.images.fallback.srcSet,\n      }\n    )\n\n    if (!output.placeholder) {\n      return\n    }\n\n    output.placeholder.sources.push({\n      media,\n      srcSet: image.placeholder.fallback,\n    })\n  })\n  output.images.sources.push(...images.sources)\n  if (placeholder?.sources) {\n    output.placeholder?.sources.push(...placeholder.sources)\n  }\n  return output\n}\n","import React, { Fragment, FunctionComponent, PropsWithChildren } from \"react\"\nimport terserMacro from \"../../macros/terser.macro\"\nimport { Layout } from \"../image-utils\"\n\nexport interface ILayoutWrapperProps {\n  layout: Layout\n  width: number\n  height: number\n}\n\nconst NativeScriptLoading: FunctionComponent = () => (\n  <script\n    type=\"module\"\n    dangerouslySetInnerHTML={{\n      __html: terserMacro`\nconst hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nif (hasNativeLazyLoadSupport) {\n  const gatsbyImages = document.querySelectorAll('img[data-main-image]');\n  for (let mainImage of gatsbyImages) {\n    if (mainImage.dataset.src) {\n      mainImage.setAttribute('src', mainImage.dataset.src)\n      mainImage.removeAttribute('data-src')\n    }\n    if (mainImage.dataset.srcset) {\n      mainImage.setAttribute('srcset', mainImage.dataset.srcset)\n      mainImage.removeAttribute('data-srcset')\n    }\n\n    const sources = mainImage.parentNode.querySelectorAll('source[data-srcset]');\n    for (let source of sources) {\n      source.setAttribute('srcset', source.dataset.srcset)\n      source.removeAttribute('data-srcset')\n    }\n\n    if (mainImage.complete) {\n      mainImage.style.opacity = 1;\n\n      // also hide the placeholder\n      mainImage.parentNode.parentNode.querySelector('[data-placeholder-image]').style.opacity = 0;\n    }\n  }\n}\n`,\n    }}\n  />\n)\n\nexport function getSizer(\n  layout: Layout,\n  width: number,\n  height: number\n): string {\n  let sizer = ``\n  if (layout === `fullWidth`) {\n    sizer = `<div aria-hidden=\"true\" style=\"padding-top: ${\n      (height / width) * 100\n    }%;\"></div>`\n  }\n\n  if (layout === `constrained`) {\n    sizer = `<div style=\"max-width: ${width}px; display: block;\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>`\n  }\n\n  return sizer\n}\n\nconst Sizer: FunctionComponent<ILayoutWrapperProps> = function Sizer({\n  layout,\n  width,\n  height,\n}) {\n  if (layout === `fullWidth`) {\n    return (\n      <div aria-hidden style={{ paddingTop: `${(height / width) * 100}%` }} />\n    )\n  }\n\n  if (layout === `constrained`) {\n    return (\n      <div style={{ maxWidth: width, display: `block` }}>\n        <img\n          alt=\"\"\n          role=\"presentation\"\n          aria-hidden=\"true\"\n          src={`data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E`}\n          style={{\n            maxWidth: `100%`,\n            display: `block`,\n            position: `static`,\n          }}\n        />\n      </div>\n    )\n  }\n\n  return null\n}\n\nexport const LayoutWrapper: FunctionComponent<\n  PropsWithChildren<ILayoutWrapperProps>\n> = function LayoutWrapper({ children, ...props }) {\n  return (\n    <Fragment>\n      <Sizer {...props} />\n      {children}\n\n      {SERVER ? <NativeScriptLoading /> : null}\n    </Fragment>\n  )\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\n\nexport interface IResponsiveImageProps {\n  sizes?: string\n  srcSet: string\n}\n\nexport type SourceProps = IResponsiveImageProps &\n  (\n    | {\n        media: string\n        type?: string\n      }\n    | {\n        media?: string\n        type: string\n      }\n  )\n\ntype FallbackProps = { src: string } & Partial<IResponsiveImageProps>\n\ntype ImageProps = ImgHTMLAttributes<HTMLImageElement> & {\n  src: string\n  alt: string\n  shouldLoad: boolean\n}\n\nexport type PictureProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: FallbackProps\n  sources?: Array<SourceProps>\n  alt: string\n  shouldLoad?: boolean\n}\n\nconst Image: FunctionComponent<ImageProps> = function Image({\n  src,\n  srcSet,\n  loading,\n  alt = ``,\n  shouldLoad,\n  ...props\n}) {\n  return (\n    <img\n      {...props}\n      decoding=\"async\"\n      loading={loading}\n      src={shouldLoad ? src : undefined}\n      data-src={!shouldLoad ? src : undefined}\n      srcSet={shouldLoad ? srcSet : undefined}\n      data-srcset={!shouldLoad ? srcSet : undefined}\n      alt={alt}\n    />\n  )\n}\n\nexport const Picture: React.FC<PictureProps> = function Picture({\n  fallback,\n  sources = [],\n  shouldLoad = true,\n  ...props\n}) {\n  const sizes = props.sizes || fallback?.sizes\n  const fallbackImage = (\n    <Image {...props} {...fallback} sizes={sizes} shouldLoad={shouldLoad} />\n  )\n\n  if (!sources.length) {\n    return fallbackImage\n  }\n\n  return (\n    <picture>\n      {sources.map(({ media, srcSet, type }) => (\n        <source\n          key={`${media}-${type}-${srcSet}`}\n          type={type}\n          media={media}\n          srcSet={shouldLoad ? srcSet : undefined}\n          data-srcset={!shouldLoad ? srcSet : undefined}\n          sizes={sizes}\n        />\n      ))}\n      {fallbackImage}\n    </picture>\n  )\n}\n\nImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  sizes: PropTypes.string,\n  srcSet: PropTypes.string,\n  shouldLoad: PropTypes.bool,\n}\n\nPicture.displayName = `Picture`\nPicture.propTypes = {\n  alt: PropTypes.string.isRequired,\n  shouldLoad: PropTypes.bool,\n  fallback: PropTypes.exact({\n    src: PropTypes.string.isRequired,\n    srcSet: PropTypes.string,\n    sizes: PropTypes.string,\n  }),\n  sources: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.exact({\n        media: PropTypes.string.isRequired,\n        type: PropTypes.string,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n      PropTypes.exact({\n        media: PropTypes.string,\n        type: PropTypes.string.isRequired,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n    ])\n  ),\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\nimport { Picture, SourceProps } from \"./picture\"\n\nexport type PlaceholderProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: string\n  sources?: Array<SourceProps>\n}\n\nexport const Placeholder: FunctionComponent<PlaceholderProps> =\n  function Placeholder({ fallback, ...props }) {\n    if (fallback) {\n      return (\n        <Picture\n          {...props}\n          fallback={{\n            src: fallback,\n          }}\n          aria-hidden\n          alt=\"\"\n        />\n      )\n    } else {\n      return <div {...props}></div>\n    }\n  }\n\nPlaceholder.displayName = `Placeholder`\nPlaceholder.propTypes = {\n  fallback: PropTypes.string,\n  sources: Picture.propTypes?.sources,\n  alt: function (props, propName, componentName): Error | null {\n    if (!props[propName]) {\n      return null\n    }\n\n    return new Error(\n      `Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`. Validation failed.`\n    )\n  },\n}\n","import React from \"react\"\nimport { Picture, PictureProps } from \"./picture\"\n\nexport type MainImageProps = PictureProps\n\nexport const MainImage: React.FC<PictureProps> = function MainImage(props) {\n  return (\n    <>\n      <Picture {...props} />\n      <noscript>\n        <Picture {...props} shouldLoad={true} />\n      </noscript>\n    </>\n  )\n}\n\nMainImage.displayName = `MainImage`\nMainImage.propTypes = Picture.propTypes\n","import React from \"react\"\nimport { getWrapperProps, getMainProps, getPlaceholderProps } from \"./hooks\"\nimport { Placeholder } from \"./placeholder\"\nimport { MainImage, MainImageProps } from \"./main-image\"\nimport { LayoutWrapper } from \"./layout-wrapper\"\nimport PropTypes from \"prop-types\"\nimport type { FunctionComponent, WeakValidationMap } from \"react\"\nimport type { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\n\nconst removeNewLines = (str: string): string => str.replace(/\\n/g, ``)\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> =\n  function GatsbyImage({\n    as = `div`,\n    className,\n    class: preactClass,\n    style,\n    image,\n    loading = `lazy`,\n    imgClassName,\n    imgStyle,\n    backgroundColor,\n    objectFit,\n    objectPosition,\n    ...props\n  }) {\n    if (!image) {\n      console.warn(`[gatsby-plugin-image] Missing image prop`)\n      return null\n    }\n\n    if (preactClass) {\n      className = preactClass\n    }\n\n    imgStyle = {\n      objectFit,\n      objectPosition,\n      backgroundColor,\n      ...imgStyle,\n    }\n\n    const {\n      width,\n      height,\n      layout,\n      images,\n      placeholder,\n      backgroundColor: placeholderBackgroundColor,\n    } = image\n\n    const {\n      style: wStyle,\n      className: wClass,\n      ...wrapperProps\n    } = getWrapperProps(width, height, layout)\n\n    const cleanedImages: IGatsbyImageData[\"images\"] = {\n      fallback: undefined,\n      sources: [],\n    }\n    if (images.fallback) {\n      cleanedImages.fallback = {\n        ...images.fallback,\n        srcSet: images.fallback.srcSet\n          ? removeNewLines(images.fallback.srcSet)\n          : undefined,\n      }\n    }\n\n    if (images.sources) {\n      cleanedImages.sources = images.sources.map(source => {\n        return {\n          ...source,\n          srcSet: removeNewLines(source.srcSet),\n        }\n      })\n    }\n\n    return React.createElement(\n      as,\n      {\n        ...wrapperProps,\n        style: {\n          ...wStyle,\n          ...style,\n          backgroundColor,\n        },\n        className: `${wClass}${className ? ` ${className}` : ``}`,\n      },\n      <LayoutWrapper layout={layout} width={width} height={height}>\n        <Placeholder\n          {...getPlaceholderProps(\n            placeholder,\n            false,\n            layout,\n            width,\n            height,\n            placeholderBackgroundColor,\n            objectFit,\n            objectPosition\n          )}\n        />\n\n        <MainImage\n          data-gatsby-image-ssr=\"\"\n          className={imgClassName}\n          {...(props as Omit<\n            MainImageProps,\n            \"images\" | \"fallback\" | \"onError\" | \"onLoad\"\n          >)}\n          // When eager is set we want to start the isLoading state on true (we want to load the img without react)\n          {...getMainProps(\n            loading === `eager`,\n            false,\n            cleanedImages,\n            loading,\n            imgStyle\n          )}\n        />\n      </LayoutWrapper>\n    )\n  }\n\nexport const altValidator: PropTypes.Validator<string> = (\n  props: GatsbyImageProps,\n  propName,\n  componentName,\n  ...rest\n): Error | undefined => {\n  if (!props.alt && props.alt !== ``) {\n    return new Error(\n      `The \"alt\" prop is required in ${componentName}. If the image is purely presentational then pass an empty string: e.g. alt=\"\". Learn more: https://a11y-style-guide.com/style-guide/section-media.html`\n    )\n  }\n\n  return PropTypes.string(props, propName, componentName, ...rest)\n}\n\nexport const propTypes = {\n  image: PropTypes.object.isRequired,\n  alt: altValidator,\n} as WeakValidationMap<GatsbyImageProps>\n","import {\n  createElement,\n  memo,\n  useMemo,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n} from \"react\"\nimport {\n  getWrapperProps,\n  gatsbyImageIsInstalled,\n  hasNativeLazyLoadSupport,\n} from \"./hooks\"\nimport { getSizer } from \"./layout-wrapper\"\nimport { propTypes } from \"./gatsby-image.server\"\nimport type {\n  FC,\n  ElementType,\n  FunctionComponent,\n  ImgHTMLAttributes,\n  CSSProperties,\n  ReactEventHandler,\n} from \"react\"\nimport type { renderImageToString } from \"./lazy-hydrate\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { Layout } from \"../image-utils\"\n\nconst imageCache = new Set<string>()\nlet renderImageToStringPromise\nlet renderImage: typeof renderImageToString | undefined\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface GatsbyImageProps\n  extends Omit<\n    ImgHTMLAttributes<HTMLImageElement>,\n    \"placeholder\" | \"onLoad\" | \"src\" | \"srcSet\" | \"width\" | \"height\"\n  > {\n  alt: string\n  as?: ElementType\n  className?: string\n  class?: string\n  imgClassName?: string\n  image: IGatsbyImageData\n  imgStyle?: CSSProperties\n  backgroundColor?: string\n  objectFit?: CSSProperties[\"objectFit\"]\n  objectPosition?: CSSProperties[\"objectPosition\"]\n  onLoad?: (props: { wasCached: boolean }) => void\n  onError?: ReactEventHandler<HTMLImageElement>\n  onStartLoad?: (props: { wasCached: boolean }) => void\n}\n\nexport interface IGatsbyImageData {\n  layout: Layout\n  width: number\n  height: number\n  backgroundColor?: string\n  images: Pick<MainImageProps, \"sources\" | \"fallback\">\n  placeholder?: Pick<PlaceholderProps, \"sources\" | \"fallback\">\n}\n\nconst GatsbyImageHydrator: FC<GatsbyImageProps> = function GatsbyImageHydrator({\n  as = `div`,\n  image,\n  style,\n  backgroundColor,\n  className,\n  class: preactClass,\n  onStartLoad,\n  onLoad,\n  onError,\n  ...props\n}) {\n  const { width, height, layout } = image\n  const {\n    style: wStyle,\n    className: wClass,\n    ...wrapperProps\n  } = getWrapperProps(width, height, layout)\n  const root = useRef<HTMLElement>()\n  const cacheKey = useMemo(() => JSON.stringify(image.images), [image.images])\n\n  // Preact uses class instead of className so we need to check for both\n  if (preactClass) {\n    className = preactClass\n  }\n\n  const sizer = getSizer(layout, width, height)\n\n  useEffect(() => {\n    if (!renderImageToStringPromise) {\n      renderImageToStringPromise = import(`./lazy-hydrate`).then(\n        ({ renderImageToString, swapPlaceholderImage }) => {\n          renderImage = renderImageToString\n\n          return {\n            renderImageToString,\n            swapPlaceholderImage,\n          }\n        }\n      )\n    }\n\n    // The plugin image component is a bit special where if it's server-side rendered, we add extra script tags to support lazy-loading without\n    // In this case we stop hydration but fire the correct events.\n    const ssrImage = root.current.querySelector(\n      `[data-gatsby-image-ssr]`\n    ) as HTMLImageElement\n    if (ssrImage && hasNativeLazyLoadSupport()) {\n      if (ssrImage.complete) {\n        // Trigger onStartload and onLoad events\n        onStartLoad?.({\n          wasCached: true,\n        })\n        onLoad?.({\n          wasCached: true,\n        })\n\n        // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n        setTimeout(() => {\n          ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n        }, 0)\n      } else {\n        onStartLoad?.({\n          wasCached: true,\n        })\n\n        ssrImage.addEventListener(`load`, function onLoadListener() {\n          ssrImage.removeEventListener(`load`, onLoadListener)\n\n          onLoad?.({\n            wasCached: true,\n          })\n          // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n          setTimeout(() => {\n            ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n          }, 0)\n        })\n      }\n\n      imageCache.add(cacheKey)\n\n      return\n    }\n\n    if (renderImage && imageCache.has(cacheKey)) {\n      return\n    }\n\n    let animationFrame\n    let cleanupCallback\n    renderImageToStringPromise.then(\n      ({ renderImageToString, swapPlaceholderImage }) => {\n        if (!root.current) {\n          return\n        }\n\n        root.current.innerHTML = renderImageToString({\n          isLoading: true,\n          isLoaded: imageCache.has(cacheKey),\n          image,\n          ...props,\n        })\n\n        if (!imageCache.has(cacheKey)) {\n          animationFrame = requestAnimationFrame(() => {\n            if (root.current) {\n              cleanupCallback = swapPlaceholderImage(\n                root.current,\n                cacheKey,\n                imageCache,\n                style,\n                onStartLoad,\n                onLoad,\n                onError\n              )\n            }\n          })\n        }\n      }\n    )\n\n    // eslint-disable-next-line consistent-return\n    return (): void => {\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame)\n      }\n      if (cleanupCallback) {\n        cleanupCallback()\n      }\n    }\n  }, [image])\n\n  // useLayoutEffect is ran before React commits to the DOM. This allows us to make sure our HTML is using our cached image version\n  useLayoutEffect(() => {\n    if (imageCache.has(cacheKey) && renderImage) {\n      root.current.innerHTML = renderImage({\n        isLoading: imageCache.has(cacheKey),\n        isLoaded: imageCache.has(cacheKey),\n        image,\n        ...props,\n      })\n\n      // Trigger onStartload and onLoad events\n      onStartLoad?.({\n        wasCached: true,\n      })\n      onLoad?.({\n        wasCached: true,\n      })\n    }\n  }, [image])\n\n  // By keeping all props equal React will keep the component in the DOM\n  return createElement(as, {\n    ...wrapperProps,\n    style: {\n      ...wStyle,\n      ...style,\n      backgroundColor,\n    },\n    className: `${wClass}${className ? ` ${className}` : ``}`,\n    ref: root,\n    dangerouslySetInnerHTML: {\n      __html: sizer,\n    },\n    suppressHydrationWarning: true,\n  })\n}\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> = memo(\n  function GatsbyImage(props) {\n    if (!props.image) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(`[gatsby-plugin-image] Missing image prop`)\n      }\n\n      return null\n    }\n\n    if (!gatsbyImageIsInstalled() && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `[gatsby-plugin-image] You're missing out on some cool performance features. Please add \"gatsby-plugin-image\" to your gatsby-config.js`\n      )\n    }\n\n    return createElement(GatsbyImageHydrator, props)\n  }\n)\n\nGatsbyImage.propTypes = propTypes\nGatsbyImage.displayName = `GatsbyImage`\n","import React, { FunctionComponent, ReactElement } from \"react\"\nimport {\n  altValidator,\n  GatsbyImage as GatsbyImageServer,\n} from \"./gatsby-image.server\"\nimport { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\nimport PropTypes from \"prop-types\"\nimport { ISharpGatsbyImageArgs } from \"../image-utils\"\n\nexport interface IStaticImageProps\n  extends Omit<GatsbyImageProps, \"image\">,\n    Omit<ISharpGatsbyImageArgs, \"backgroundColor\"> {\n  src: string\n  filename?: string\n}\n\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nexport function _getStaticImage(\n  GatsbyImage: FunctionComponent<GatsbyImageProps>\n): React.FC<IStaticImageProps & IPrivateProps> {\n  return function StaticImage({\n    src,\n    __imageData: imageData,\n    __error,\n    // We extract these because they're not meant to be passed-down to GatsbyImage\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    width,\n    height,\n    aspectRatio,\n    tracedSVGOptions,\n    placeholder,\n    formats,\n    quality,\n    transformOptions,\n    jpgOptions,\n    pngOptions,\n    webpOptions,\n    avifOptions,\n    blurredOptions,\n    breakpoints,\n    outputPixelDensities,\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    ...props\n  }): ReactElement {\n    if (__error) {\n      console.warn(__error)\n    }\n\n    if (imageData) {\n      return <GatsbyImage image={imageData} {...props} />\n    }\n    console.warn(`Image not loaded`, src)\n    if (!__error && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `Please ensure that \"gatsby-plugin-image\" is included in the plugins array in gatsby-config.js, and that your version of gatsby is at least 2.24.78`\n      )\n    }\n    return null\n  }\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageServer)\n\nconst checkDimensionProps: PropTypes.Validator<number> = (\n  props: IStaticImageProps & IPrivateProps,\n  propName: keyof IStaticImageProps & IPrivateProps,\n  ...rest\n) => {\n  if (\n    props.layout === `fullWidth` &&\n    (propName === `width` || propName === `height`) &&\n    props[propName]\n  ) {\n    return new Error(\n      `\"${propName}\" ${props[propName]} may not be passed when layout is fullWidth.`\n    )\n  }\n  return PropTypes.number(props, propName, ...rest)\n}\n\nconst validLayouts = new Set([`fixed`, `fullWidth`, `constrained`])\n\nexport const propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: altValidator,\n  width: checkDimensionProps,\n  height: checkDimensionProps,\n  sizes: PropTypes.string,\n  layout: (props: IStaticImageProps & IPrivateProps): Error | undefined => {\n    if (props.layout === undefined) {\n      return undefined\n    }\n    if (validLayouts.has(props.layout)) {\n      return undefined\n    }\n\n    return new Error(\n      `Invalid value ${props.layout}\" provided for prop \"layout\". Defaulting to \"constrained\". Valid values are \"fixed\", \"fullWidth\" or \"constrained\".`\n    )\n  },\n}\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import {\n  GatsbyImage as GatsbyImageBrowser,\n  IGatsbyImageData,\n} from \"./gatsby-image.browser\"\nimport React from \"react\"\nimport {\n  _getStaticImage,\n  propTypes,\n  IStaticImageProps,\n} from \"./static-image.server\"\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageBrowser)\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import { Collection, Data, Domain, Helpers, LabelHelpers, Scale, VictoryClipContainer } from \"victory-core\";\nexport const getBarPosition = (props, datum) => {\n  const getDefaultMin = axis => {\n    const defaultZero = Scale.getType(props.scale[axis]) === \"log\" ? 1 / Number.MAX_SAFE_INTEGER : 0;\n    let defaultMin = defaultZero;\n    const minY = Collection.getMinValue(props.domain[axis]);\n    const maxY = Collection.getMaxValue(props.domain[axis]);\n    if (minY < 0 && maxY <= 0) {\n      defaultMin = maxY;\n    } else if (minY >= 0 && maxY > 0) {\n      defaultMin = minY;\n    }\n    return datum[`_${axis}`] instanceof Date ? new Date(defaultMin) : defaultMin;\n  };\n  const _y0 = datum._y0 !== undefined ? datum._y0 : getDefaultMin(\"y\");\n  const _x0 = datum._x0 !== undefined ? datum._x0 : getDefaultMin(\"x\");\n  return Helpers.scalePoint(props, Object.assign({}, datum, {\n    _y0,\n    _x0\n  }));\n};\nconst getCalculatedValues = props => {\n  const {\n    polar\n  } = props;\n  const defaultStyles = Helpers.getDefaultStyles(props, \"bar\");\n  const style = !props.disableInlineStyles ? Helpers.getStyles(props.style, defaultStyles) : {};\n  const range = props.range || {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  const domain = {\n    x: Domain.getDomainWithZero(props, \"x\"),\n    y: Domain.getDomainWithZero(props, \"y\")\n  };\n  const scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  const origin = polar ? props.origin || Helpers.getPolarOrigin(props) : undefined;\n  let data = Data.getData(props);\n  data = Data.formatDataFromDomain(data, domain, 0);\n\n  // when inside a zoom container, reset the _x and _y properties of each datum to the original\n  // x and y property values so they will not be clipped. See https://github.com/FormidableLabs/victory/pull/2970\n  if (props.groupComponent?.type === VictoryClipContainer) {\n    data = data.map(datum => ({\n      ...datum,\n      _x: datum.x,\n      _y: datum.y\n    }));\n  }\n  return {\n    style,\n    data,\n    scale,\n    domain,\n    origin\n  };\n};\nexport const getBaseProps = (initialProps, fallbackProps) => {\n  const modifiedProps = Helpers.modifyProps(initialProps, fallbackProps, \"bar\");\n  const props = Object.assign({}, modifiedProps, getCalculatedValues(modifiedProps));\n  const {\n    alignment,\n    barRatio,\n    cornerRadius,\n    data,\n    disableInlineStyles,\n    domain,\n    events,\n    height,\n    horizontal,\n    origin,\n    padding,\n    polar,\n    scale,\n    sharedEvents,\n    standalone,\n    style,\n    theme,\n    width,\n    labels,\n    name,\n    barWidth,\n    getPath\n  } = props;\n  const initialChildProps = {\n    parent: {\n      horizontal,\n      domain,\n      scale,\n      width,\n      height,\n      data,\n      standalone,\n      name,\n      theme,\n      polar,\n      origin,\n      padding,\n      style: style.parent\n    }\n  };\n  return data.reduce((childProps, datum, index) => {\n    const eventKey = !Helpers.isNil(datum.eventKey) ? datum.eventKey : index;\n    const {\n      x,\n      y,\n      y0,\n      x0\n    } = getBarPosition(props, datum);\n    const dataProps = {\n      alignment,\n      barRatio,\n      barWidth,\n      cornerRadius,\n      data,\n      datum,\n      disableInlineStyles,\n      getPath,\n      horizontal,\n      index,\n      polar,\n      origin,\n      scale,\n      style: style.data,\n      width,\n      height,\n      x,\n      y,\n      y0,\n      x0\n    };\n    childProps[eventKey] = {\n      data: dataProps\n    };\n    const text = LabelHelpers.getText(props, datum, index);\n    if (text !== undefined && text !== null || labels && (events || sharedEvents)) {\n      childProps[eventKey].labels = LabelHelpers.getProps(props, index);\n    }\n    return childProps;\n  }, initialChildProps);\n};","import isPlainObject from \"lodash/isPlainObject\";\nimport { Helpers } from \"victory-core\";\nconst DEFAULT_BAR_WIDTH = 8;\nexport const getBarWidth = (barWidth, props) => {\n  const {\n    scale,\n    data,\n    style\n  } = props;\n  if (barWidth) {\n    return Helpers.evaluateProp(barWidth, props);\n  } else if (style.width) {\n    return style.width;\n  }\n  const range = scale.x.range();\n  const extent = Math.abs(range[1] - range[0]);\n  const bars = data.length + 2;\n  const barRatio = props.barRatio || 0.5;\n  const defaultWidth = barRatio * (data.length < 2 ? DEFAULT_BAR_WIDTH : extent / bars);\n  return Math.max(1, defaultWidth);\n};\nconst getCornerRadiusFromObject = (cornerRadius, props) => {\n  const realCornerRadius = {\n    topLeft: 0,\n    topRight: 0,\n    bottomLeft: 0,\n    bottomRight: 0\n  };\n  const updateCornerRadius = (corner, fallback) => {\n    if (!Helpers.isNil(cornerRadius[corner])) {\n      realCornerRadius[corner] = Helpers.evaluateProp(cornerRadius[corner], props);\n    } else if (!Helpers.isNil(cornerRadius[fallback])) {\n      realCornerRadius[corner] = Helpers.evaluateProp(cornerRadius[fallback], props);\n    }\n  };\n  updateCornerRadius(\"topLeft\", \"top\");\n  updateCornerRadius(\"topRight\", \"top\");\n  updateCornerRadius(\"bottomLeft\", \"bottom\");\n  updateCornerRadius(\"bottomRight\", \"bottom\");\n  return realCornerRadius;\n};\nfunction isCornerRadiusObject(cornerRadius) {\n  return isPlainObject(cornerRadius);\n}\nexport const getCornerRadius = (cornerRadius, props) => {\n  const realCornerRadius = {\n    topLeft: 0,\n    topRight: 0,\n    bottomLeft: 0,\n    bottomRight: 0\n  };\n  if (!cornerRadius) {\n    return realCornerRadius;\n  }\n  if (isCornerRadiusObject(cornerRadius)) {\n    return getCornerRadiusFromObject(cornerRadius, props);\n  }\n  realCornerRadius.topLeft = Helpers.evaluateProp(cornerRadius, props);\n  realCornerRadius.topRight = Helpers.evaluateProp(cornerRadius, props);\n  return realCornerRadius;\n};\nexport const getStyle = function (style, props) {\n  if (style === void 0) {\n    style = {};\n  }\n  if (props.disableInlineStyles) {\n    return {};\n  }\n  const stroke = style.fill || \"black\";\n  const baseStyle = {\n    fill: \"black\",\n    stroke\n  };\n  return Helpers.evaluateStyle(Object.assign(baseStyle, style), props);\n};","/**\n * A point in the 2d plane\n */\nexport const point = (x, y) => ({\n  x,\n  y,\n  distance(p1) {\n    return Math.sqrt(Math.pow(this.x - p1.x, 2) + Math.pow(this.y - p1.y, 2));\n  },\n  // vector addition in 2d plane\n  add(p1) {\n    return point(this.x + p1.x, this.y + p1.y);\n  },\n  // vector subtraction in 2d\n  // returns p0 - p1\n  subtract(p1) {\n    return point(this.x - p1.x, this.y - p1.y);\n  },\n  // multiply a 2d point by a scalar\n  scalarMult(n) {\n    return point(this.x * n, this.y * n);\n  },\n  scalarDivide(n) {\n    if (n === 0) {\n      throw new Error(\"Division by 0 error\");\n    }\n    return point(this.x / n, this.y / n);\n  },\n  equals(p1) {\n    return this.x === p1.x && this.y === p1.y;\n  }\n});\n/**\n * A circle in the 2d plane\n */\nexport const circle = (center, radius) => ({\n  center,\n  radius,\n  hasIntersection(circle1) {\n    const P0 = this.center;\n    const P1 = circle1.center;\n    const r0 = this.radius;\n    const r1 = circle1.radius;\n    const d = P0.distance(P1);\n    if (d > r0 + r1) {\n      return false; // separate circles\n    }\n    if (d < Math.abs(r0 - r1)) {\n      return false; // one circle contains another\n    }\n    return true;\n  },\n  equals(circle1) {\n    const P0 = this.center;\n    const P1 = circle1.center;\n    const r0 = this.radius;\n    const r1 = circle1.radius;\n    return r0 === r1 && P0.equals(P1);\n  },\n  // Source: http://paulbourke.net/geometry/circlesphere/\n  // \"Intersection of two circles\" by Paul Bourke\n  // Left-most point is returned as 0th element of array\n  // Right-most point is returned as 1st elemennt of array\n  intersection(circle1) {\n    const P0 = this.center;\n    const P1 = circle1.center;\n    const r0 = this.radius;\n    const r1 = circle1.radius;\n    const d = P0.distance(P1);\n    if (!this.hasIntersection(circle1) || this.equals(circle1)) {\n      return [];\n    }\n    const a = (Math.pow(r0, 2) - Math.pow(r1, 2) + Math.pow(d, 2)) / (2 * d);\n    const h = Math.sqrt(Math.pow(r0, 2) - Math.pow(a, 2));\n    const P2 = P0.add(P1.subtract(P0).scalarMult(a).scalarDivide(d));\n    const {\n      x: x0,\n      y: y0\n    } = P0;\n    const {\n      x: x1,\n      y: y1\n    } = P1;\n    const {\n      x: x2,\n      y: y2\n    } = P2;\n    const P3s = [point(x2 - h * (y1 - y0) / d, y2 + h * (x1 - x0) / d), point(x2 + h * (y1 - y0) / d, y2 - h * (x1 - x0) / d)];\n    P3s.sort((Point1, Point2) => Point1.x - Point2.x);\n    return P3s;\n  },\n  solveX(y) {\n    const sqrt = Math.sqrt(Math.pow(this.radius, 2) - Math.pow(y - this.center.y, 2));\n    return [this.center.x - sqrt, this.center.x + sqrt];\n  },\n  solveY(x) {\n    const sqrt = Math.sqrt(Math.pow(this.radius, 2) - Math.pow(x - this.center.x, 2));\n    return [this.center.y - sqrt, this.center.y + sqrt];\n  }\n});","import * as d3Shape from \"victory-vendor/d3-shape\";\nimport { circle, point } from \"./geometry-helper-methods\";\nconst getPosition = (props, width) => {\n  const {\n    x,\n    x0,\n    y,\n    y0,\n    horizontal\n  } = props;\n  const alignment = props.alignment || \"middle\";\n  const size = alignment === \"middle\" ? width / 2 : width;\n  const sign = horizontal ? -1 : 1;\n  if (horizontal) {\n    return {\n      x0,\n      x1: x,\n      y0: alignment === \"start\" ? y : y - sign * size,\n      y1: alignment === \"end\" ? y : y + sign * size\n    };\n  }\n  return {\n    x0: alignment === \"start\" ? x : x - sign * size,\n    x1: alignment === \"end\" ? x : x + sign * size,\n    y0,\n    y1: y\n  };\n};\nconst getAngle = (props, index) => {\n  const {\n    data,\n    scale\n  } = props;\n  const x = data[index]._x1 === undefined ? \"_x\" : \"_x1\";\n  return scale.x(data[index][x]);\n};\nconst getAngularWidth = (props, width) => {\n  const {\n    scale\n  } = props;\n  const range = scale.y.range();\n  const r = Math.max(...range);\n  const angularRange = Math.abs(scale.x.range()[1] - scale.x.range()[0]);\n  return width / (2 * Math.PI * r) * angularRange;\n};\nconst transformAngle = angle => {\n  return -1 * angle + Math.PI / 2;\n};\nexport const getCustomBarPath = (props, width) => {\n  const {\n    getPath\n  } = props;\n  if (typeof getPath === \"function\") {\n    const propsWithCalculatedValues = {\n      ...props,\n      ...getPosition(props, width)\n    };\n    return getPath(propsWithCalculatedValues);\n  }\n};\nconst getStartAngle = (props, index) => {\n  const {\n    data,\n    scale,\n    alignment\n  } = props;\n  const currentAngle = getAngle(props, index);\n  const angularRange = Math.abs(scale.x.range()[1] - scale.x.range()[0]);\n  const previousAngle = index === 0 ? getAngle(props, data.length - 1) - Math.PI * 2 : getAngle(props, index - 1);\n  if (index === 0 && angularRange < 2 * Math.PI) {\n    return scale.x.range()[0];\n  } else if (alignment === \"start\" || alignment === \"end\") {\n    return alignment === \"start\" ? previousAngle : currentAngle;\n  }\n  return (currentAngle + previousAngle) / 2;\n};\nconst getEndAngle = (props, index) => {\n  const {\n    data,\n    scale,\n    alignment\n  } = props;\n  const currentAngle = getAngle(props, index);\n  const angularRange = Math.abs(scale.x.range()[1] - scale.x.range()[0]);\n  const lastAngle = scale.x.range()[1] === 2 * Math.PI ? getAngle(props, 0) + Math.PI * 2 : scale.x.range()[1];\n  const nextAngle = index === data.length - 1 ? getAngle(props, 0) + Math.PI * 2 : getAngle(props, index + 1);\n  if (index === data.length - 1 && angularRange < 2 * Math.PI) {\n    return lastAngle;\n  } else if (alignment === \"start\" || alignment === \"end\") {\n    return alignment === \"start\" ? currentAngle : nextAngle;\n  }\n  return (currentAngle + nextAngle) / 2;\n};\nconst mapPointsToPath = (coords, cornerRadius, direction) => {\n  const topLeftPath = `${cornerRadius.topLeft} ${cornerRadius.topLeft} ${direction}`;\n  const topRightPath = `${cornerRadius.topRight} ${cornerRadius.topRight} ${direction}`;\n  const bottomLeftPath = `${cornerRadius.bottomLeft} ${cornerRadius.bottomLeft} ${direction}`;\n  const bottomRightPath = `${cornerRadius.bottomRight} ${cornerRadius.bottomRight} ${direction}`;\n  const commands = [\"M\", `A ${bottomLeftPath},`, \"L\", `A ${topLeftPath},`, \"L\", `A ${topRightPath},`, \"L\", `A ${bottomRightPath},`];\n  const path = commands.reduce((acc, command, i) => `${acc}${command} ${coords[i].x}, ${coords[i].y} \\n`, \"\");\n  return `${path} z`;\n};\nconst getVerticalBarPoints = (position, sign, cr) => {\n  const {\n    x0,\n    x1,\n    y0,\n    y1\n  } = position;\n  const getHalfPoints = side => {\n    const isLeft = side === \"Left\";\n    const signL = isLeft ? 1 : -1;\n    const x = isLeft ? x0 : x1;\n    let bottomPoint = {\n      x: x + signL * cr[`bottom${side}`],\n      y: y0\n    };\n    let bottomMiddlePoint = {\n      x,\n      y: y0 - sign * cr[`bottom${side}`]\n    };\n    let topMiddlePoint = {\n      x,\n      y: y1 + sign * cr[`top${side}`]\n    };\n    let topPoint = {\n      x: x + signL * cr[`top${side}`],\n      y: y1\n    };\n    const hasIntersection = sign === 1 ? y0 - cr[`bottom${side}`] < y1 + cr[`top${side}`] : y0 + cr[`bottom${side}`] > y1 - cr[`top${side}`];\n    if (hasIntersection) {\n      const topCenter = point(x + signL * cr[`top${side}`], y1 + sign * cr[`top${side}`]);\n      const topCircle = circle(topCenter, cr[`top${side}`]);\n      const bottomCenter = point(x + signL * cr[`bottom${side}`], y0 - sign * cr[`bottom${side}`]);\n      const bottomCircle = circle(bottomCenter, cr[`bottom${side}`]);\n      const circleIntersection = topCircle.intersection(bottomCircle);\n      const hasArcIntersection = circleIntersection.length > 0;\n      if (hasArcIntersection) {\n        const arcIntersection = circleIntersection[isLeft ? 0 : 1];\n        bottomMiddlePoint = {\n          x: arcIntersection.x,\n          y: arcIntersection.y\n        };\n        topMiddlePoint = {\n          x: arcIntersection.x,\n          y: arcIntersection.y\n        };\n      } else {\n        const hasBottomLineTopArcIntersection = cr[`top${side}`] > cr[`bottom${side}`];\n        if (hasBottomLineTopArcIntersection) {\n          const newX = topCircle.solveX(y0)[isLeft ? 0 : 1];\n          bottomPoint = {\n            x: newX,\n            y: y0\n          };\n          bottomMiddlePoint = {\n            x: newX,\n            y: y0\n          };\n          topMiddlePoint = {\n            x: newX,\n            y: y0\n          };\n        } else {\n          const newX = bottomCircle.solveX(y1)[isLeft ? 0 : 1];\n          bottomMiddlePoint = {\n            x: newX,\n            y: y1\n          };\n          topMiddlePoint = {\n            x: newX,\n            y: y1\n          };\n          topPoint = {\n            x: newX,\n            y: y1\n          };\n        }\n      }\n    }\n    const points = [bottomPoint, bottomMiddlePoint, topMiddlePoint, topPoint];\n    return isLeft ? points : points.reverse();\n  };\n  return getHalfPoints(\"Left\").concat(getHalfPoints(\"Right\"));\n};\nconst getHorizontalBarPoints = (position, sign, cr) => {\n  const {\n    y0,\n    y1\n  } = position;\n  const x0 = position.x0 < position.x1 ? position.x0 : position.x1;\n  const x1 = position.x0 < position.x1 ? position.x1 : position.x0;\n  const getHalfPoints = side => {\n    const isTop = side === \"top\";\n    const signL = isTop ? -1 : 1;\n    const y = isTop ? y1 : y0;\n    let leftPoint = {\n      x: x0,\n      y: y - signL * cr[`${side}Left`]\n    };\n    let leftMiddlePoint = {\n      x: x0 + cr[`${side}Left`],\n      y\n    };\n    let rightMiddlePoint = {\n      x: x1 - cr[`${side}Right`],\n      y\n    };\n    let rightPoint = {\n      x: x1,\n      y: y - signL * cr[`${side}Right`]\n    };\n    const hasIntersection = leftMiddlePoint.x > rightMiddlePoint.x;\n    if (hasIntersection) {\n      const leftCenter = point(x0 + cr[`${side}Left`], y - signL * cr[`${side}Left`]);\n      const leftCircle = circle(leftCenter, cr[`${side}Left`]);\n      const rightCenter = point(x1 - cr[`${side}Right`], y - signL * cr[`${side}Right`]);\n      const rightCircle = circle(rightCenter, cr[`${side}Right`]);\n      const circleIntersection = leftCircle.intersection(rightCircle);\n      const hasArcIntersection = circleIntersection.length > 0;\n      if (hasArcIntersection) {\n        const arcIntersection = circleIntersection[sign > 0 ? 1 : 0];\n        leftMiddlePoint = {\n          x: arcIntersection.x,\n          y: arcIntersection.y\n        };\n        rightMiddlePoint = {\n          x: arcIntersection.x,\n          y: arcIntersection.y\n        };\n      } else {\n        const hasLeftLineRightArcIntersection = cr[`${side}Right`] > cr[`${side}Left`];\n        if (hasLeftLineRightArcIntersection) {\n          const newY = rightCircle.solveY(x0)[isTop ? 0 : 1];\n          leftPoint = {\n            x: x0,\n            y: newY\n          };\n          leftMiddlePoint = {\n            x: x0,\n            y: newY\n          };\n          rightMiddlePoint = {\n            x: x0,\n            y: newY\n          };\n        } else {\n          const newY = leftCircle.solveY(x1)[isTop ? 0 : 1];\n          rightPoint = {\n            x: x1,\n            y: newY\n          };\n          rightMiddlePoint = {\n            x: x1,\n            y: newY\n          };\n          leftMiddlePoint = {\n            x: x1,\n            y: newY\n          };\n        }\n      }\n    }\n    return [leftPoint, leftMiddlePoint, rightMiddlePoint, rightPoint];\n  };\n  const topPoints = getHalfPoints(\"top\");\n  const bottomPoints = getHalfPoints(\"bottom\");\n  return [bottomPoints[1], bottomPoints[0], ...topPoints,\n  // eslint-disable-next-line no-magic-numbers\n  bottomPoints[3], bottomPoints[2]];\n};\nexport const getVerticalBarPath = (props, width, cornerRadius) => {\n  const position = getPosition(props, width);\n  const sign = position.y0 > position.y1 ? 1 : -1;\n  const direction = sign > 0 ? \"0 0 1\" : \"0 0 0\";\n  const points = getVerticalBarPoints(position, sign, cornerRadius);\n  return mapPointsToPath(points, cornerRadius, direction);\n};\nexport const getHorizontalBarPath = (props, width, cornerRadius) => {\n  const position = getPosition(props, width);\n  const sign = position.x0 < position.x1 ? 1 : -1;\n  const direction = \"0 0 1\";\n  const cr = {\n    topRight: sign > 0 ? cornerRadius.topLeft : cornerRadius.bottomLeft,\n    bottomRight: sign > 0 ? cornerRadius.topRight : cornerRadius.bottomRight,\n    bottomLeft: sign > 0 ? cornerRadius.bottomRight : cornerRadius.topRight,\n    topLeft: sign > 0 ? cornerRadius.bottomLeft : cornerRadius.topLeft\n  };\n  const points = getHorizontalBarPoints(position, sign, cr);\n  return mapPointsToPath(points, cr, direction);\n};\nexport const getVerticalPolarBarPath = (props, cornerRadius) => {\n  const {\n    datum,\n    scale,\n    index,\n    alignment,\n    style\n  } = props;\n  const r1 = scale.y(datum._y0 || 0);\n  const r2 = scale.y(datum._y1 !== undefined ? datum._y1 : datum._y);\n  const currentAngle = scale.x(datum._x1 !== undefined ? datum._x1 : datum._x);\n  let start;\n  let end;\n  if (style.width) {\n    const width = getAngularWidth(props, style.width);\n    const size = alignment === \"middle\" ? width / 2 : width;\n    start = alignment === \"start\" ? currentAngle : currentAngle - size;\n    end = alignment === \"end\" ? currentAngle : currentAngle + size;\n  } else {\n    start = getStartAngle(props, Number(index));\n    end = getEndAngle(props, Number(index));\n  }\n  const getPath = edge => {\n    const pathFunction = d3Shape.arc().innerRadius(r1).outerRadius(r2).startAngle(transformAngle(start)).endAngle(transformAngle(end)).cornerRadius(cornerRadius[edge]);\n    return pathFunction();\n  };\n  const getPathData = edge => {\n    const rightPath = getPath(`${edge}Right`);\n    const rightMoves = rightPath.match(/[A-Z]/g) || [];\n    const rightCoords = rightPath.split(/[A-Z]/).slice(1);\n    const rightMiddle = rightMoves.indexOf(\"L\");\n    const leftPath = getPath(`${edge}Left`);\n    const leftMoves = leftPath.match(/[A-Z]/g) || [];\n    const leftCoords = leftPath.split(/[A-Z]/).slice(1);\n    const leftMiddle = leftMoves.indexOf(\"L\");\n    return {\n      rightMoves,\n      rightCoords,\n      rightMiddle,\n      leftMoves,\n      leftCoords,\n      leftMiddle\n    };\n  };\n  const getTopPath = () => {\n    const {\n      topRight,\n      topLeft\n    } = cornerRadius;\n    const arcLength = r2 * Math.abs(end - start);\n    const {\n      rightMoves,\n      rightCoords,\n      rightMiddle,\n      leftMoves,\n      leftCoords,\n      leftMiddle\n    } = getPathData(\"top\");\n    let moves;\n    let coords;\n    if (topRight === topLeft || arcLength < 2 * topRight + 2 * topLeft) {\n      moves = topRight > topLeft ? rightMoves : leftMoves;\n      coords = topRight > topLeft ? rightCoords : leftCoords;\n    } else {\n      // eslint-disable-next-line no-magic-numbers\n      const isShort = middle => middle < 3;\n      const rightOffset = topLeft > topRight && isShort(rightMiddle) ? 1 : 2;\n      let leftOffset;\n      if (topRight > topLeft) {\n        const defaultOffset = isShort(rightMiddle) ? leftMiddle : leftMiddle - 2;\n        leftOffset = isShort(leftMiddle) ? leftMiddle - 1 : defaultOffset;\n      } else {\n        const defaultOffset = isShort(leftMiddle) ? 1 : 2;\n        leftOffset = isShort(rightMiddle) ? defaultOffset : leftMiddle - 2;\n      }\n      moves = [...rightMoves.slice(0, rightOffset), ...leftMoves.slice(leftOffset)];\n      coords = [...rightCoords.slice(0, rightOffset), ...leftCoords.slice(leftOffset)];\n    }\n    const middle = moves.indexOf(\"L\");\n    const subMoves = moves.slice(0, middle);\n    const subCoords = coords.slice(0, middle);\n    return subMoves.map((m, i) => ({\n      command: m,\n      coords: subCoords[i].split(\",\")\n    }));\n  };\n  const getBottomPath = () => {\n    const {\n      bottomRight,\n      bottomLeft\n    } = cornerRadius;\n    const arcLength = r1 * Math.abs(end - start);\n    const {\n      rightMoves,\n      rightCoords,\n      rightMiddle,\n      leftMoves,\n      leftCoords,\n      leftMiddle\n    } = getPathData(\"bottom\");\n    let moves;\n    let coords;\n    if (bottomRight === bottomLeft || arcLength < 2 * bottomRight + 2 * bottomLeft) {\n      moves = bottomRight > bottomLeft ? rightMoves : leftMoves;\n      coords = bottomRight > bottomLeft ? rightCoords : leftCoords;\n    } else {\n      // eslint-disable-next-line no-magic-numbers\n      const isShort = (m, middle) => m.length - middle < 4;\n      const shortPath = bottomRight > bottomLeft ? isShort(rightMoves, rightMiddle) : isShort(leftMoves, leftMiddle);\n      // eslint-disable-next-line no-magic-numbers\n      const rightOffset = shortPath ? -1 : -3;\n      moves = [...leftMoves.slice(0, leftMiddle + 2), ...rightMoves.slice(rightOffset)];\n      coords = [...leftCoords.slice(0, leftMiddle + 2), ...rightCoords.slice(rightOffset)];\n    }\n    const middle = moves.indexOf(\"L\");\n    const subMoves = moves.slice(middle, -1);\n    const subCoords = coords.slice(middle, -1);\n    return subMoves.map((m, i) => ({\n      command: m,\n      coords: subCoords[i].split(\",\")\n    }));\n  };\n  const topPath = getTopPath();\n  const bottomPath = getBottomPath();\n  const moves = [...topPath, ...bottomPath];\n  const path = moves.reduce((memo, move) => `${memo}${move.command} ${move.coords.join()}`, \"\");\n  return `${path} z`;\n};\nexport const getBarPath = (props, width, cornerRadius) => {\n  if (props.getPath) {\n    return getCustomBarPath(props, width);\n  }\n  return props.horizontal ? getHorizontalBarPath(props, width, cornerRadius) : getVerticalBarPath(props, width, cornerRadius);\n};\nexport const getPolarBarPath = (props, cornerRadius) => {\n  // TODO Radial bars\n  return getVerticalPolarBarPath(props, cornerRadius);\n};","import React, { forwardRef } from \"react\";\nimport defaults from \"lodash/defaults\";\nimport { Helpers, Path } from \"victory-core\";\nimport { getStyle, getBarWidth, getCornerRadius } from \"./bar-helper-methods\";\nimport { getPolarBarPath, getBarPath } from \"./path-helper-methods\";\nconst evaluateProps = props => {\n  /**\n   * Potential evaluated props of following must be evaluated in this order:\n   * 1) `style`\n   * 2) `barWidth`\n   * 3) `cornerRadius`\n   *\n   * Everything else does not have to be evaluated in a particular order:\n   * `ariaLabel`\n   * `desc`\n   * `id`\n   * `tabIndex`\n   */\n  const style = getStyle(props.style, props);\n  const barWidth = getBarWidth(props.barWidth, Object.assign({}, props, {\n    style\n  }));\n  const cornerRadius = getCornerRadius(props.cornerRadius, Object.assign({}, props, {\n    style,\n    barWidth\n  }));\n  const ariaLabel = Helpers.evaluateProp(props.ariaLabel, props);\n  const desc = Helpers.evaluateProp(props.desc, props);\n  const id = Helpers.evaluateProp(props.id, props);\n  const tabIndex = Helpers.evaluateProp(props.tabIndex, props);\n  return Object.assign({}, props, {\n    ariaLabel,\n    style,\n    barWidth,\n    cornerRadius,\n    desc,\n    id,\n    tabIndex\n  });\n};\nconst defaultProps = {\n  pathComponent: /*#__PURE__*/React.createElement(Path, null),\n  role: \"presentation\",\n  shapeRendering: \"auto\"\n};\nexport const Bar = /*#__PURE__*/forwardRef(\n// eslint-disable-next-line prefer-arrow-callback\nfunction Bar(initialProps, ref) {\n  const props = evaluateProps(defaults({}, initialProps, defaultProps));\n  const {\n    polar,\n    origin,\n    style,\n    barWidth,\n    cornerRadius\n  } = props;\n  const path = polar ? getPolarBarPath(props, cornerRadius) : getBarPath(props, barWidth, cornerRadius);\n  const defaultTransform = polar && origin ? `translate(${origin.x}, ${origin.y})` : undefined;\n  if (!props.pathComponent) {\n    return null;\n  }\n  return /*#__PURE__*/React.cloneElement(props.pathComponent, {\n    ...props.events,\n    \"aria-label\": props.ariaLabel,\n    style,\n    d: path,\n    className: props.className,\n    clipPath: props.clipPath,\n    desc: props.desc,\n    index: props.index,\n    role: props.role,\n    shapeRendering: props.shapeRendering,\n    transform: props.transform || defaultTransform,\n    tabIndex: props.tabIndex,\n    ref\n  });\n});","import React from \"react\";\nimport { getBaseProps } from \"./helper-methods\";\nimport { Bar } from \"./bar\";\nimport { Helpers, VictoryLabel, VictoryContainer, VictoryTheme, addEvents, Data, Domain, UserProps, VictoryClipContainer } from \"victory-core\";\nconst fallbackProps = {\n  width: 450,\n  height: 300,\n  padding: 50\n};\nconst defaultData = [{\n  x: 1,\n  y: 1\n}, {\n  x: 2,\n  y: 2\n}, {\n  x: 3,\n  y: 3\n}, {\n  x: 4,\n  y: 4\n}];\n\n// eslint-disable-next-line @typescript-eslint/no-empty-object-type\n\n/**\n * Draw SVG bar charts with React. VictoryBar is a composable component, so it doesn\"t include axes\n * Check out VictoryChart for complete bar charts and more.\n */\nclass VictoryBarBase extends React.Component {\n  static animationWhitelist = [\"data\", \"domain\", \"height\", \"padding\", \"style\", \"width\"];\n  static displayName = \"VictoryBar\";\n  static role = \"bar\";\n  static defaultTransitions = {\n    onLoad: {\n      duration: 2000,\n      before: () => ({\n        _y: 0,\n        _y1: 0,\n        _y0: 0\n      }),\n      after: datum => ({\n        _y: datum._y,\n        _y1: datum._y1,\n        _y0: datum._y0\n      })\n    },\n    onExit: {\n      duration: 500,\n      before: () => ({\n        _y: 0,\n        yOffset: 0\n      })\n    },\n    onEnter: {\n      duration: 500,\n      before: () => ({\n        _y: 0,\n        _y1: 0,\n        _y0: 0\n      }),\n      after: datum => ({\n        _y: datum._y,\n        _y1: datum._y1,\n        _y0: datum._y0\n      })\n    }\n  };\n  static defaultProps = {\n    containerComponent: /*#__PURE__*/React.createElement(VictoryContainer, null),\n    data: defaultData,\n    dataComponent: /*#__PURE__*/React.createElement(Bar, null),\n    groupComponent: /*#__PURE__*/React.createElement(\"g\", {\n      role: \"presentation\"\n    }),\n    labelComponent: /*#__PURE__*/React.createElement(VictoryLabel, null),\n    samples: 50,\n    sortOrder: \"ascending\",\n    standalone: true,\n    theme: VictoryTheme.grayscale\n  };\n  static getDomain = Domain.getDomainWithZero;\n  static getData = Data.getData;\n  static getBaseProps(props) {\n    return getBaseProps(props, fallbackProps);\n  }\n  static expectedComponents = [\"dataComponent\", \"labelComponent\", \"groupComponent\", \"containerComponent\"];\n  // passed to addEvents.renderData to prevent data props with undefined _x or _y from excluding data from render.\n  // used when inside of VictoryZoomContainer\n  static shouldRenderDatum = () => true;\n  // Overridden in native versions\n  shouldAnimate() {\n    return !!this.props.animate;\n  }\n  render() {\n    const {\n      animationWhitelist,\n      role\n    } = VictoryBar;\n    const props = Helpers.modifyProps(this.props, fallbackProps, role);\n    if (this.shouldAnimate()) {\n      return this.animateComponent(props, animationWhitelist);\n    }\n    let children;\n    // when inside a zoom container (the only place VictoryClipContainer is used), all data\n    // should be renderable so bars won't dissappear before they've fully exited the container's bounds\n    // see https://github.com/FormidableLabs/victory/pull/2970\n    if (props.groupComponent?.type === VictoryClipContainer) {\n      children = this.renderData(props, VictoryBarBase.shouldRenderDatum);\n    } else {\n      children = this.renderData(props);\n    }\n    const component = props.standalone ? this.renderContainer(props.containerComponent, children) : children;\n    return UserProps.withSafeUserProps(component, props);\n  }\n}\nexport const VictoryBar = addEvents(VictoryBarBase);","import React from \"react\";\nimport defaults from \"lodash/defaults\";\nimport { Helpers, Path, UserProps } from \"victory-core\";\nconst getVerticalPath = props => {\n  const {\n    pointerWidth,\n    cornerRadius,\n    orientation,\n    width,\n    height,\n    center\n  } = props;\n  const sign = orientation === \"bottom\" ? 1 : -1;\n  const x = props.x + (props.dx || 0);\n  const y = props.y + (props.dy || 0);\n  const centerX = center.x;\n  const centerY = center.y;\n  const pointerEdge = centerY + sign * (height / 2);\n  const oppositeEdge = centerY - sign * (height / 2);\n  const rightEdge = centerX + width / 2;\n  const leftEdge = centerX - width / 2;\n  const pointerLength = sign * (y - pointerEdge) < 0 ? 0 : props.pointerLength;\n  const direction = orientation === \"bottom\" ? \"0 0 0\" : \"0 0 1\";\n  const arc = `${cornerRadius} ${cornerRadius} ${direction}`;\n  return `M ${centerX - pointerWidth / 2}, ${pointerEdge}\n    L ${pointerLength ? x : centerX + pointerWidth / 2}, ${pointerLength ? y : pointerEdge}\n    L ${centerX + pointerWidth / 2}, ${pointerEdge}\n    L ${rightEdge - cornerRadius}, ${pointerEdge}\n    A ${arc} ${rightEdge}, ${pointerEdge - sign * cornerRadius}\n    L ${rightEdge}, ${oppositeEdge + sign * cornerRadius}\n    A ${arc} ${rightEdge - cornerRadius}, ${oppositeEdge}\n    L ${leftEdge + cornerRadius}, ${oppositeEdge}\n    A ${arc} ${leftEdge}, ${oppositeEdge + sign * cornerRadius}\n    L ${leftEdge}, ${pointerEdge - sign * cornerRadius}\n    A ${arc} ${leftEdge + cornerRadius}, ${pointerEdge}\n    z`;\n};\nconst getHorizontalPath = props => {\n  const {\n    pointerWidth,\n    cornerRadius,\n    orientation,\n    width,\n    height,\n    center\n  } = props;\n  const sign = orientation === \"left\" ? 1 : -1;\n  const x = props.x + (props.dx || 0);\n  const y = props.y + (props.dy || 0);\n  const centerX = center.x;\n  const centerY = center.y;\n  const pointerEdge = centerX - sign * (width / 2);\n  const oppositeEdge = centerX + sign * (width / 2);\n  const bottomEdge = centerY + height / 2;\n  const topEdge = centerY - height / 2;\n  const pointerLength = sign * (x - pointerEdge) > 0 ? 0 : props.pointerLength;\n  const direction = orientation === \"left\" ? \"0 0 0\" : \"0 0 1\";\n  const arc = `${cornerRadius} ${cornerRadius} ${direction}`;\n  return `M ${pointerEdge}, ${centerY - pointerWidth / 2}\n    L ${pointerLength ? x : pointerEdge}, ${pointerLength ? y : centerY + pointerWidth / 2}\n    L ${pointerEdge}, ${centerY + pointerWidth / 2}\n    L ${pointerEdge}, ${bottomEdge - cornerRadius}\n    A ${arc} ${pointerEdge + sign * cornerRadius}, ${bottomEdge}\n    L ${oppositeEdge - sign * cornerRadius}, ${bottomEdge}\n    A ${arc} ${oppositeEdge}, ${bottomEdge - cornerRadius}\n    L ${oppositeEdge}, ${topEdge + cornerRadius}\n    A ${arc} ${oppositeEdge - sign * cornerRadius}, ${topEdge}\n    L ${pointerEdge + sign * cornerRadius}, ${topEdge}\n    A ${arc} ${pointerEdge}, ${topEdge + cornerRadius}\n    z`;\n};\nconst getFlyoutPath = props => {\n  const orientation = props.orientation || \"top\";\n  return orientation === \"left\" || orientation === \"right\" ? getHorizontalPath(props) : getVerticalPath(props);\n};\nconst evaluateProps = props => {\n  /**\n   * Potential evaluated props are:\n   * `id`\n   * `style`\n   */\n  const id = Helpers.evaluateProp(props.id, props);\n  const style = Helpers.evaluateStyle(props.style, props);\n  return {\n    ...props,\n    id,\n    style\n  };\n};\nconst defaultProps = {\n  pathComponent: /*#__PURE__*/React.createElement(Path, null),\n  role: \"presentation\",\n  shapeRendering: \"auto\"\n};\nexport const Flyout = initialProps => {\n  const props = evaluateProps(defaults({}, initialProps, defaultProps));\n  const userProps = UserProps.getSafeUserProps(props);\n\n  // check for required props for this subcomponent\n  // they should be passed in from the wrapper\n  UserProps.assert(props.height, \"Flyout props[height] is undefined\");\n  UserProps.assert(props.width, \"Flyout props[width] is undefined\");\n  UserProps.assert(props.x, \"Flyout props[x] is undefined\");\n  UserProps.assert(props.y, \"Flyout props[y] is undefined\");\n  const flyoutPathProps = {\n    center: props.center || {\n      x: 0,\n      y: 0\n    },\n    cornerRadius: props.cornerRadius || 0,\n    dx: props.dx,\n    dy: props.dy,\n    height: props.height,\n    orientation: props.orientation || \"top\",\n    pointerLength: props.pointerLength || 0,\n    pointerWidth: props.pointerWidth || 0,\n    width: props.width,\n    x: props.x,\n    y: props.y\n  };\n  return /*#__PURE__*/React.cloneElement(props.pathComponent, {\n    ...props.events,\n    ...userProps,\n    style: props.style,\n    d: getFlyoutPath(flyoutPathProps),\n    className: props.className,\n    shapeRendering: props.shapeRendering,\n    role: props.role,\n    transform: props.transform,\n    clipPath: props.clipPath\n  });\n};","import React from \"react\";\nimport { TextSize, Helpers, LabelHelpers, VictoryLabel, VictoryTheme, VictoryPortal } from \"victory-core\";\nimport defaults from \"lodash/defaults\";\nimport uniqueId from \"lodash/uniqueId\";\nimport isPlainObject from \"lodash/isPlainObject\";\nimport orderBy from \"lodash/orderBy\";\nimport { Flyout } from \"./flyout\";\nconst fallbackProps = {\n  cornerRadius: 5,\n  pointerLength: 10,\n  pointerWidth: 10\n};\nexport class VictoryTooltip extends React.Component {\n  static displayName = \"VictoryTooltip\";\n  static role = \"tooltip\";\n  static defaultProps = {\n    active: false,\n    renderInPortal: true,\n    labelComponent: /*#__PURE__*/React.createElement(VictoryLabel, null),\n    flyoutComponent: /*#__PURE__*/React.createElement(Flyout, null),\n    groupComponent: /*#__PURE__*/React.createElement(\"g\", null)\n  };\n  static defaultEvents(props) {\n    const activate = props.activateData ? [{\n      target: \"labels\",\n      mutation: () => ({\n        active: true\n      })\n    }, {\n      target: \"data\",\n      mutation: () => ({\n        active: true\n      })\n    }] : [{\n      target: \"labels\",\n      mutation: () => ({\n        active: true\n      })\n    }];\n    const deactivate = props.activateData ? [{\n      target: \"labels\",\n      mutation: () => ({\n        active: undefined\n      })\n    }, {\n      target: \"data\",\n      mutation: () => ({\n        active: undefined\n      })\n    }] : [{\n      target: \"labels\",\n      mutation: () => ({\n        active: undefined\n      })\n    }];\n    return [{\n      target: \"data\",\n      eventHandlers: {\n        onMouseOver: () => activate,\n        onFocus: () => activate,\n        onTouchStart: () => activate,\n        onMouseOut: () => deactivate,\n        onBlur: () => deactivate,\n        onTouchEnd: () => deactivate\n      }\n    }];\n  }\n  constructor(props) {\n    super(props);\n    this.id = props.id === undefined ? uniqueId(\"tooltip-\") : props.id;\n  }\n  getDefaultOrientation(props) {\n    const {\n      datum,\n      horizontal,\n      polar\n    } = props;\n    if (!polar) {\n      const positive = horizontal ? \"right\" : \"top\";\n      const negative = horizontal ? \"left\" : \"bottom\";\n      return datum && datum.y < 0 ? negative : positive;\n    }\n    return this.getPolarOrientation(props);\n  }\n  getPolarOrientation(props) {\n    const degrees = LabelHelpers.getDegrees(props, props.datum);\n    const placement = props.labelPlacement || \"vertical\";\n    if (placement === \"vertical\") {\n      return this.getVerticalOrientations(degrees);\n    } else if (placement === \"parallel\") {\n      return degrees < 90 || degrees > 270 ? \"right\" : \"left\";\n    }\n    return degrees > 180 ? \"bottom\" : \"top\";\n  }\n  getVerticalOrientations(degrees) {\n    // eslint-disable-next-line no-magic-numbers\n    if (degrees < 45 || degrees > 315) {\n      return \"right\";\n      // eslint-disable-next-line no-magic-numbers\n    } else if (degrees >= 45 && degrees <= 135) {\n      return \"top\";\n      // eslint-disable-next-line no-magic-numbers\n    } else if (degrees > 135 && degrees < 225) {\n      return \"left\";\n    }\n    return \"bottom\";\n  }\n  getStyles(props) {\n    const theme = props.theme || VictoryTheme.grayscale;\n    const defaultLabelStyles = theme && theme.tooltip && theme.tooltip.style ? theme.tooltip.style : {};\n    const baseLabelStyle = Array.isArray(props.style) ? props.style.map(s => defaults({}, s, defaultLabelStyles)) : defaults({}, props.style, defaultLabelStyles);\n    const defaultFlyoutStyles = theme && theme.tooltip && theme.tooltip.flyoutStyle ? theme.tooltip.flyoutStyle : {};\n    const baseFlyoutStyle = props.flyoutStyle ? defaults({}, props.flyoutStyle, defaultFlyoutStyles) : defaultFlyoutStyles;\n    const style = Array.isArray(baseLabelStyle) ? baseLabelStyle.map(s => Helpers.evaluateStyle(s, props)) : Helpers.evaluateStyle(baseLabelStyle, props);\n    const flyoutStyle = Helpers.evaluateStyle(baseFlyoutStyle, Object.assign({}, props, {\n      style\n    }));\n    return {\n      style,\n      flyoutStyle\n    };\n  }\n  getEvaluatedProps(props) {\n    const {\n      cornerRadius,\n      centerOffset,\n      dx,\n      dy\n    } = props;\n    const active = Helpers.evaluateProp(props.active, props);\n    let text = Helpers.evaluateProp(props.text, Object.assign({}, props, {\n      active\n    }));\n    if (text === undefined || text === null) {\n      text = \"\";\n    }\n    if (typeof text === \"number\") {\n      text = text.toString();\n    }\n    const {\n      style,\n      flyoutStyle\n    } = this.getStyles(Object.assign({}, props, {\n      active,\n      text\n    }));\n    const orientation = Helpers.evaluateProp(props.orientation, Object.assign({}, props, {\n      active,\n      text,\n      style,\n      flyoutStyle\n    })) || this.getDefaultOrientation(props);\n    const padding = Helpers.evaluateProp(props.flyoutPadding, Object.assign({}, props, {\n      active,\n      text,\n      style,\n      flyoutStyle,\n      orientation\n    })) || this.getLabelPadding(style);\n    const flyoutPadding = Helpers.getPadding(padding);\n    const pointerWidth = Helpers.evaluateProp(props.pointerWidth, Object.assign({}, props, {\n      active,\n      text,\n      style,\n      flyoutStyle,\n      orientation\n    }));\n    const pointerLength = Helpers.evaluateProp(props.pointerLength, Object.assign({}, props, {\n      active,\n      text,\n      style,\n      flyoutStyle,\n      orientation\n    }));\n    const labelSize = TextSize.approximateTextSize(text, style);\n    const {\n      flyoutHeight,\n      flyoutWidth\n    } = this.getDimensions(Object.assign({}, props, {\n      style,\n      flyoutStyle,\n      active,\n      text,\n      orientation,\n      flyoutPadding,\n      pointerWidth,\n      pointerLength\n    }), labelSize);\n    const evaluatedProps = Object.assign({}, props, {\n      active,\n      text,\n      style,\n      flyoutStyle,\n      orientation,\n      flyoutHeight,\n      flyoutWidth,\n      flyoutPadding,\n      pointerWidth,\n      pointerLength\n    });\n    const offsetX = isPlainObject(centerOffset) && centerOffset?.x !== undefined ? Helpers.evaluateProp(centerOffset.x, evaluatedProps) : 0;\n    const offsetY = isPlainObject(centerOffset) && centerOffset?.y !== undefined ? Helpers.evaluateProp(centerOffset.y, evaluatedProps) : 0;\n    return {\n      ...evaluatedProps,\n      centerOffset: {\n        x: offsetX,\n        y: offsetY\n      },\n      dx: dx !== undefined ? Helpers.evaluateProp(dx, evaluatedProps) : 0,\n      dy: dy !== undefined ? Helpers.evaluateProp(dy, evaluatedProps) : 0,\n      cornerRadius: Helpers.evaluateProp(cornerRadius, evaluatedProps)\n    };\n  }\n  getCalculatedValues(props) {\n    const {\n      style,\n      text,\n      flyoutStyle,\n      flyoutHeight,\n      flyoutWidth\n    } = props;\n    const labelSize = TextSize.approximateTextSize(text, style);\n    const flyoutDimensions = {\n      height: flyoutHeight,\n      width: flyoutWidth\n    };\n    const flyoutCenter = this.getFlyoutCenter(props, flyoutDimensions);\n    const transform = this.getTransform(props);\n    return {\n      style,\n      flyoutStyle,\n      labelSize,\n      flyoutDimensions,\n      flyoutCenter,\n      transform\n    };\n  }\n  getTransform(props) {\n    const {\n      x,\n      y,\n      style\n    } = props;\n    const labelStyle = style || {};\n    const angle = labelStyle.angle || props.angle || this.getDefaultAngle(props);\n    return angle ? `rotate(${angle} ${x} ${y})` : undefined;\n  }\n  getDefaultAngle(props) {\n    const {\n      polar,\n      labelPlacement,\n      orientation,\n      datum\n    } = props;\n    if (!polar || !labelPlacement || labelPlacement === \"vertical\") {\n      return 0;\n    }\n    const degrees = LabelHelpers.getDegrees(props, datum);\n    const sign = degrees > 90 && degrees < 180 || degrees > 270 ? 1 : -1;\n    const labelRotation = labelPlacement === \"perpendicular\" ? 0 : 90;\n    let angle = 0;\n    if (degrees === 0 || degrees === 180) {\n      angle = orientation === \"top\" && degrees === 180 ? 270 : 90;\n    } else if (degrees > 0 && degrees < 180) {\n      angle = 90 - degrees;\n    } else if (degrees > 180 && degrees < 360) {\n      angle = 270 - degrees;\n    }\n    return angle + sign * labelRotation;\n  }\n  constrainTooltip(center, props, dimensions) {\n    const {\n      x,\n      y\n    } = center;\n    const {\n      width,\n      height\n    } = dimensions;\n    const extent = {\n      x: [0, props.width],\n      y: [0, props.height]\n    };\n    const flyoutExtent = {\n      x: [x - width / 2, x + width / 2],\n      y: [y - height / 2, y + height / 2]\n    };\n    const adjustments = {\n      x: [flyoutExtent.x[0] < extent.x[0] ? extent.x[0] - flyoutExtent.x[0] : 0, flyoutExtent.x[1] > extent.x[1] ? flyoutExtent.x[1] - extent.x[1] : 0],\n      y: [flyoutExtent.y[0] < extent.y[0] ? extent.y[0] - flyoutExtent.y[0] : 0, flyoutExtent.y[1] > extent.y[1] ? flyoutExtent.y[1] - extent.y[1] : 0]\n    };\n    return {\n      x: Math.round(x + adjustments.x[0] - adjustments.x[1]),\n      y: Math.round(y + adjustments.y[0] - adjustments.y[1])\n    };\n  }\n  getFlyoutCenter(props, dimensions) {\n    const {\n      x,\n      y,\n      dx,\n      dy,\n      pointerLength,\n      orientation,\n      constrainToVisibleArea,\n      centerOffset\n    } = props;\n    const {\n      height,\n      width\n    } = dimensions;\n    const xSign = orientation === \"left\" ? -1 : 1;\n    const ySign = orientation === \"bottom\" ? -1 : 1;\n    const flyoutCenter = {\n      x: orientation === \"left\" || orientation === \"right\" ? x + xSign * (pointerLength + width / 2 + xSign * dx) : x + dx,\n      y: orientation === \"top\" || orientation === \"bottom\" ? y - ySign * (pointerLength + height / 2 - ySign * dy) : y + dy\n    };\n    const center = {\n      x: isPlainObject(props.center) && props.center.x !== undefined ? props.center.x : flyoutCenter.x,\n      y: isPlainObject(props.center) && props.center.y !== undefined ? props.center.y : flyoutCenter.y\n    };\n    const centerWithOffset = {\n      x: center.x + centerOffset.x,\n      y: center.y + centerOffset.y\n    };\n    return constrainToVisibleArea ? this.constrainTooltip(centerWithOffset, props, dimensions) : centerWithOffset;\n  }\n  getLabelPadding(style) {\n    if (!style) {\n      return 0;\n    }\n    const paddings = Array.isArray(style) ? style.map(s => s.padding) : [style.padding];\n    return Math.max(...paddings, 0);\n  }\n  getDimensions(props, labelSize) {\n    const {\n      orientation,\n      pointerLength,\n      pointerWidth,\n      flyoutHeight,\n      flyoutWidth,\n      flyoutPadding\n    } = props;\n    const cornerRadius = Helpers.evaluateProp(props.cornerRadius, props);\n    const getHeight = () => {\n      const calculatedHeight = labelSize.height + flyoutPadding.top + flyoutPadding.bottom;\n      const minHeight = orientation === \"top\" || orientation === \"bottom\" ? 2 * cornerRadius : 2 * cornerRadius + pointerWidth;\n      return Math.max(minHeight, calculatedHeight);\n    };\n    const getWidth = () => {\n      const calculatedWidth = labelSize.width + flyoutPadding.left + flyoutPadding.right;\n      const minWidth = orientation === \"left\" || orientation === \"right\" ? 2 * cornerRadius + pointerLength : 2 * cornerRadius;\n      return Math.max(minWidth, calculatedWidth);\n    };\n    return {\n      flyoutHeight: flyoutHeight ? Helpers.evaluateProp(flyoutHeight, props) : getHeight(),\n      flyoutWidth: flyoutWidth ? Helpers.evaluateProp(flyoutWidth, props) : getWidth()\n    };\n  }\n  getLabelProps(props, calculatedValues) {\n    const {\n      flyoutCenter,\n      style,\n      labelSize,\n      dy = 0,\n      dx = 0\n    } = calculatedValues;\n    const {\n      text,\n      datum,\n      activePoints,\n      labelComponent,\n      index,\n      flyoutPadding\n    } = props;\n    const textAnchor = (Array.isArray(style) && style.length ? style[0].textAnchor : style.textAnchor) || \"middle\";\n    const getLabelX = () => {\n      if (!textAnchor || textAnchor === \"middle\") {\n        return flyoutCenter.x;\n      }\n      const sign = textAnchor === \"end\" ? -1 : 1;\n      return flyoutCenter.x - sign * (labelSize.width / 2);\n    };\n    return defaults({}, labelComponent.props, {\n      key: `${this.id}-label-${index}`,\n      text,\n      datum,\n      activePoints,\n      textAnchor,\n      dy,\n      dx,\n      style,\n      x: getLabelX() + (flyoutPadding.left - flyoutPadding.right) / 2,\n      y: flyoutCenter.y + (flyoutPadding.top - flyoutPadding.bottom) / 2,\n      verticalAnchor: \"middle\",\n      angle: style.angle\n    });\n  }\n  getPointerOrientation(point, center, flyoutDimensions) {\n    const edges = {\n      bottom: center.y + flyoutDimensions.height / 2,\n      top: center.y - flyoutDimensions.height / 2,\n      left: center.x - flyoutDimensions.width / 2,\n      right: center.x + flyoutDimensions.width / 2\n    };\n    const gaps = [{\n      side: \"top\",\n      val: edges.top > point.y ? edges.top - point.y : -1\n    }, {\n      side: \"bottom\",\n      val: edges.bottom < point.y ? point.y - edges.bottom : -1\n    }, {\n      side: \"right\",\n      val: edges.right < point.x ? point.x - edges.right : -1\n    }, {\n      side: \"left\",\n      val: edges.left > point.x ? edges.left - point.x : -1\n    }];\n    return orderBy(gaps, \"val\", \"desc\")[0].side;\n  }\n  getFlyoutProps(props, calculatedValues) {\n    const {\n      flyoutDimensions,\n      flyoutStyle,\n      flyoutCenter\n    } = calculatedValues;\n    const {\n      x,\n      y,\n      dx,\n      dy,\n      datum,\n      activePoints,\n      index,\n      pointerLength,\n      pointerWidth,\n      cornerRadius,\n      events,\n      flyoutComponent\n    } = props;\n    const pointerOrientation = Helpers.evaluateProp(props.pointerOrientation, props);\n    return defaults({}, flyoutComponent.props, {\n      x,\n      y,\n      dx,\n      dy,\n      datum,\n      activePoints,\n      index,\n      pointerLength,\n      pointerWidth,\n      cornerRadius,\n      events,\n      orientation: pointerOrientation || this.getPointerOrientation({\n        x: x,\n        y: y\n      }, flyoutCenter, flyoutDimensions),\n      key: `${this.id}-tooltip-${index}`,\n      width: flyoutDimensions.width,\n      height: flyoutDimensions.height,\n      style: flyoutStyle,\n      center: flyoutCenter\n    });\n  }\n\n  // Overridden in victory-core-native\n  renderTooltip(props) {\n    const active = Helpers.evaluateProp(props.active, props);\n    const {\n      renderInPortal\n    } = props;\n    if (!active) {\n      return null;\n    }\n    const evaluatedProps = this.getEvaluatedProps(props);\n    const {\n      flyoutComponent,\n      labelComponent,\n      groupComponent\n    } = evaluatedProps;\n    const calculatedValues = this.getCalculatedValues(evaluatedProps);\n    const children = [/*#__PURE__*/React.cloneElement(flyoutComponent, this.getFlyoutProps(evaluatedProps, calculatedValues)), /*#__PURE__*/React.cloneElement(labelComponent, this.getLabelProps(evaluatedProps, calculatedValues))];\n    const tooltip = /*#__PURE__*/React.cloneElement(groupComponent, {\n      role: \"presentation\",\n      transform: calculatedValues.transform\n    }, children);\n    return renderInPortal ? /*#__PURE__*/React.createElement(VictoryPortal, null, tooltip) : tooltip;\n  }\n  render() {\n    const props = Helpers.modifyProps(this.props, fallbackProps, \"tooltip\");\n    return this.renderTooltip(props);\n  }\n}","import React from 'react'\nimport { VictoryBar, VictoryChart, VictoryTheme, VictoryLabel, VictoryAxis, VictoryContainer, VictoryTooltip } from 'victory'\n\nconst getWeekDates = () => {\n  // 获取本周周一到周日的日期字符串（格式与 data.x 一致）\n  const now = new Date()\n  const day = now.getDay() || 7 // 周日为0，转为7\n  const monday = new Date(now)\n  monday.setDate(now.getDate() - day + 1)\n  return Array.from({ length: 7 }, (_, i) => {\n    const d = new Date(monday)\n    d.setDate(monday.getDate() + i)\n    // 格式化为 yyyy-mm-dd\n    return d.toISOString().slice(0, 10)\n  })\n}\n\nconst WeeklyChart = ({ data }) => {\n  // 生成本周完整日期\n  const weekDates = getWeekDates()\n  // 将原始数据映射到本周日期，缺失的补0\n  const dataMap = Object.fromEntries(\n    data.map(d => {\n      // 尝试将 d.x 统一为 yyyy-mm-dd 格式\n      let dateStr = ''\n      if (typeof d.x === 'string' && /^\\d{4}-\\d{2}-\\d{2}$/.test(d.x)) {\n        dateStr = d.x\n      } else {\n        const dt = new Date(d.x)\n        if (!isNaN(dt)) {\n          dateStr = dt.toISOString().slice(0, 10)\n        } else {\n          dateStr = String(d.x).slice(0, 10)\n        }\n      }\n      return [dateStr, d]\n    })\n  )\n  const filledData = weekDates.map(date => {\n    const d = dataMap[date]\n    return d\n      ? { ...d, x: date }\n      : { x: date, y: 0, pace: '-', heartrate: '-' }\n  })\n\n  return (\n    <div style={{ flex: '1 1 100%', minWidth: '280px', maxWidth: '100%', background: 'white', padding: '20px', borderRadius: '14px', boxShadow: '0 4px 20px rgba(0,0,0,0.05)', height: '300px', display: 'flex', flexDirection: 'column' }}>\n      <h3 style={{ margin: '0 0 15px 0', color: '#333', fontSize: '17px', fontWeight: '600' }}>本周跑量</h3>\n      <div className=\"weekly-chart-container\" style={{ flex: 1, position: 'relative', minHeight: 0, overflow: 'hidden', height: '250px', padding: '5px 0', width: '100%' }}>\n        <VictoryChart\n          theme={VictoryTheme.material}\n          domainPadding={{ x: 20 }}\n          height={250}\n          width={300}\n          containerComponent={<VictoryContainer responsive={true}/>}\n          padding={{ top: 30, bottom: 60, left: 25, right: 25 }}\n        >\n          <VictoryBar\n            data={filledData}\n            // Apple 风格的 VictoryBar 样式配置\n            cornerRadius={{ top: 8 }}\n            barWidth={20}\n            style={{\n              data: {\n                fill: ({ datum }) => datum.y > 0 ? '#fc4c02' : '#f0f0f0',\n                strokeWidth: 0,\n                // 添加渐变效果\n                fillOpacity: 0.9,\n                filter: 'drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))',\n              }\n            }}\n            labelComponent={\n              <VictoryTooltip\n                style={{ fontSize: 12 }}\n                flyoutStyle={{ stroke: 'rgba(252, 76, 2, 0.3)', strokeWidth: 1, fill: 'white', borderRadius: 8, boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)' }}\n                flyoutPadding={{ top: 5, bottom: 5, left: 10, right: 10 }}\n                constrainToVisibleArea\n                activateData={true}\n              />\n            }\n            labels={({ datum }) => datum.y > 0 ? `${datum.y.toFixed(1)}km${datum.runsCount > 1 ? ` (${datum.runsCount}次跑步)` : ''}\n平均配速: ${datum.pace}'/km\n平均心率: ${datum.heartrate}次/分钟` : '无数据'}\n          />\n          <VictoryAxis\n            tickValues={weekDates}\n            tickFormat={d => {\n              // 显示为 周一、周二...周日\n              const weekMap = ['一','二','三','四','五','六','日']\n              const idx = weekDates.indexOf(d)\n              return idx !== -1 ? `周${weekMap[idx]}` : d\n            }}\n            style={{\n              tickLabels: { fontSize: 11, padding: 5, angle: 0, textAnchor: 'middle', fontWeight: 500, fill: '#555' },\n              grid: { stroke: 'none' },\n              axis: { stroke: '#f0f0f0', strokeWidth: 1 }\n            }}\n            tickLabelComponent={<VictoryLabel dy={0} dx={0} />}\n          />\n          <VictoryAxis dependentAxis\n            style={{\n              tickLabels: { fontSize: 11, padding: 5, fill: '#555', fontWeight: 500 },\n              grid: { stroke: '#f7f7f7', strokeWidth: 1, strokeDasharray: '4, 4' },\n              axis: { stroke: '#f0f0f0', strokeWidth: 1 }\n            }}\n          />\n        </VictoryChart>\n      </div>\n    </div>\n  )\n}\n\nexport default WeeklyChart","import React, { useState } from 'react'\nimport '../styles/calendar-heatmap.css'\n\nconst MonthlyHeatmap = ({ startDate, endDate, calendarData, maxDistance }) => {\n  // 获取当前月份的第一天是星期几（0是星期日，1是星期一，以此类推）\n  const firstDayOfMonth = new Date(startDate).getDay();\n  // 调整为周一为一周的第一天（0是周一，6是周日）\n  const firstWeekdayOfMonth = firstDayOfMonth === 0 ? 6 : firstDayOfMonth - 1;\n  \n  // 获取当月的总天数\n  const daysInMonth = new Date(endDate).getDate();\n  \n  // 创建日历网格数据\n  const calendarGrid = [];\n  // 添加前导空白格子\n  for (let i = 0; i < firstWeekdayOfMonth; i++) {\n    calendarGrid.push(null);\n  }\n  \n  // 计算每天的累积跑步距离和平均配速\n  const dailyTotalDistances = {};\n  const dailyAvgPace = {};\n  const dailyAvgHeartRate = {};\n  \n  for (let day = 1; day <= daysInMonth; day++) {\n    // 使用本地时间创建日期，避免时区问题\n    const date = new Date(startDate.getFullYear(), startDate.getMonth(), day);\n    // 使用本地日期格式化，避免时区偏移\n    const formattedDate = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;\n    const dayRuns = calendarData.filter(item => item.day === formattedDate);\n    \n    if (dayRuns.length > 0) {\n      // 计算总距离\n      const totalDistance = dayRuns.reduce((sum, run) => sum + run.value, 0);\n      dailyTotalDistances[formattedDate] = totalDistance;\n      \n      // 计算加权平均配速 - 根据距离加权\n      let totalWeightedPace = 0;\n      let totalHeartRate = 0;\n      let totalHeartRateWeight = 0;\n      \n      dayRuns.forEach(run => {\n        if (run.pace) {\n          totalWeightedPace += run.pace * run.value;\n        }\n        \n        if (run.heartrate) {\n          totalHeartRate += run.heartrate * run.value;\n          totalHeartRateWeight += run.value;\n        }\n      });\n      \n      // 计算平均配速\n      if (totalDistance > 0) {\n        dailyAvgPace[formattedDate] = totalWeightedPace / totalDistance;\n      }\n      \n      // 计算平均心率\n      if (totalHeartRateWeight > 0) {\n        dailyAvgHeartRate[formattedDate] = totalHeartRate / totalHeartRateWeight;\n      }\n    } else {\n      dailyTotalDistances[formattedDate] = 0;\n    }\n  }\n  \n  // 获取当月所有天中最大的累积跑步距离\n  const maxDailyDistance = Math.max(...Object.values(dailyTotalDistances));\n  \n  // 添加当月的日期\n  for (let day = 1; day <= daysInMonth; day++) {\n    // 使用本地时间创建日期，避免时区问题\n    const date = new Date(startDate.getFullYear(), startDate.getMonth(), day);\n    // 使用本地日期格式化，避免时区偏移\n    const formattedDate = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;\n    \n    calendarGrid.push({\n      day,\n      date: formattedDate,\n      value: dailyTotalDistances[formattedDate] || 0,\n      pace: dailyAvgPace[formattedDate] || null,\n      heartrate: dailyAvgHeartRate[formattedDate] || null\n    });\n  }\n  \n  // 计算需要多少行来显示日历\n  const numRows = Math.ceil((firstWeekdayOfMonth + daysInMonth) / 7);\n  \n  // 生成日历行\n  const calendarRows = [];\n  for (let row = 0; row < numRows; row++) {\n    const weekDays = [];\n    for (let col = 0; col < 7; col++) {\n      const index = row * 7 + col;\n      weekDays.push(calendarGrid[index] || null);\n    }\n    calendarRows.push(weekDays);\n  }\n  \n  // 渲染日历单元格\n  const [activeTooltip, setActiveTooltip] = useState(null);\n\n  // 处理触摸事件\n  const handleDayClick = (dayData, event) => {\n    event.preventDefault();\n    if (!dayData || !dayData.value) {\n      setActiveTooltip(null);\n      return;\n    }\n    \n    // 如果点击的是当前激活的日期，则关闭提示\n    if (activeTooltip && activeTooltip.day === dayData.day) {\n      setActiveTooltip(null);\n      return;\n    }\n    \n    // 计算提示框的位置\n    const rect = event.currentTarget.getBoundingClientRect();\n    setActiveTooltip({\n      ...dayData,\n      x: rect.left + rect.width / 2,\n      y: rect.top - 10\n    });\n  };\n  \n  const renderDay = (dayData) => {\n    if (!dayData) {\n      return <div className=\"calendar-day empty\"></div>;\n    }\n    \n    const { day, value } = dayData;\n    \n    // 计算圆点大小，基于当天累积跑步距离\n    const baseSize = 8; // 基础大小\n    const maxSize = 16; // 最大大小\n    const minSize = 6; // 最小大小\n    const size = value ? Math.max(minSize, Math.min(maxSize, baseSize + (value / maxDailyDistance) * (maxSize - baseSize))) : 0;\n    \n    // 获取配速和心率信息\n    let paceInfo = '-';\n    let heartRateInfo = '-';\n    if (dayData.pace) {\n      paceInfo = `${Math.floor(dayData.pace)}'${Math.floor((dayData.pace % 1) * 60).toString().padStart(2, '0')}/km`;\n    }\n    if (dayData.heartrate) {\n      heartRateInfo = `${Math.round(dayData.heartrate)}次/分钟`;\n    }\n    \n    // 获取当天跑步次数\n    const runsCount = dayData.runsCount || 1;\n    \n    // 确定圆点颜色类\n    let colorClass = '';\n    if (value) {\n      const intensity = Math.min(Math.floor(value / (maxDistance / 4)), 3);\n      colorClass = `color-scale-${intensity}`;\n    }\n    \n    // 生成提示框文本\n    const tooltipText = value ? `${day}日: ${value.toFixed(2)}km${runsCount > 1 ? ` (${runsCount}次跑步)` : ''}\n平均配速: ${paceInfo}\n平均心率: ${heartRateInfo}` : `${day}日: 无跑步记录`;\n    \n    return (\n      <div \n        className=\"calendar-day\" \n        title={tooltipText}\n        onClick={(e) => handleDayClick(dayData, e)}\n        onTouchStart={(e) => handleDayClick(dayData, e)}\n      >\n        <div className=\"day-number\">{day}</div>\n        {value > 0 && (\n          <div \n            className={`run-dot ${colorClass}`} \n            style={{ \n              width: `${size}px`, \n              height: `${size}px`,\n              marginTop: '2px' // 添加上边距，确保圆点在数字下方\n            }}\n          ></div>\n        )}\n      </div>\n    );\n  };\n  \n  return (\n    <div style={{ flex: '1 1 100%', minWidth: '280px', maxWidth: '100%', background: 'white', padding: '15px', borderRadius: '10px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)', height: '300px', display: 'flex', flexDirection: 'column', position: 'relative' }}>\n      <h3 style={{ margin: '0 0 15px 0', color: '#333', fontSize: '16px' }}>月度概览</h3>\n      <div className=\"calendar-container\" style={{ fontSize: '12px' }}>\n        <div className=\"weekday-header\">\n          <div className=\"weekday-label\">周一</div>\n          <div className=\"weekday-label\">周二</div>\n          <div className=\"weekday-label\">周三</div>\n          <div className=\"weekday-label\">周四</div>\n          <div className=\"weekday-label\">周五</div>\n          <div className=\"weekday-label\">周六</div>\n          <div className=\"weekday-label\">周日</div>\n        </div>\n        <div className=\"calendar-grid\">\n          {calendarRows.map((week, weekIndex) => (\n            <div key={`week-${weekIndex}`} className=\"calendar-week\">\n              {week.map((day, dayIndex) => (\n                <div key={`day-${weekIndex}-${dayIndex}`} className=\"calendar-day-wrapper\">\n                  {renderDay(day)}\n                </div>\n              ))}\n            </div>\n          ))}\n        </div>\n      </div>\n      \n      {/* 移动端点击提示框 */}\n      {activeTooltip && (\n        <div \n          style={{\n            position: 'fixed',\n            top: `${activeTooltip.y}px`,\n            left: `${activeTooltip.x}px`,\n            transform: 'translate(-50%, -100%)',\n            backgroundColor: 'white',\n            border: '1px solid #fc4c02',\n            borderRadius: '4px',\n            padding: '8px 12px',\n            zIndex: 1000,\n            fontSize: '12px',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.2)',\n            maxWidth: '200px',\n            whiteSpace: 'pre-line'\n          }}\n          onClick={() => setActiveTooltip(null)}\n        >\n          {activeTooltip.value ? (\n            <>\n              {activeTooltip.day}日: {activeTooltip.value.toFixed(2)}km\n              {activeTooltip.runsCount > 1 ? ` (${activeTooltip.runsCount}次跑步)` : ''}<br/>\n              平均配速: {activeTooltip.pace ? `${Math.floor(activeTooltip.pace)}'${Math.floor((activeTooltip.pace % 1) * 60).toString().padStart(2, '0')}/km` : '-'}<br/>\n              平均心率: {activeTooltip.heartrate ? `${Math.round(activeTooltip.heartrate)}次/分钟` : '-'}\n            </>\n          ) : (\n            `${activeTooltip.day}日: 无跑步记录`\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default MonthlyHeatmap","import React from 'react'\nimport { VictoryBar, VictoryChart, VictoryTheme, VictoryLabel, VictoryAxis, VictoryContainer, VictoryTooltip } from 'victory'\n\nconst YearlyChart = ({ data, runs }) => {\n  // 计算每月的平均配速和心率\n  const monthlyStats = data.map(monthData => {\n    const monthRuns = runs.filter(run => {\n      const runDate = new Date(run.frontmatter.date);\n      const monthIndex = runDate.getMonth();\n      const monthName = monthData.x.replace('月', '');\n      return monthIndex === parseInt(monthName) - 1;\n    });\n    \n    if (monthRuns.length > 0) {\n      // 计算平均配速\n      const avgPace = monthRuns.reduce((sum, run) => sum + (run.frontmatter.avg_pace || 0), 0) / monthRuns.length;\n      const paceMin = Math.floor(avgPace);\n      const paceSec = Math.round((avgPace - paceMin) * 60);\n      \n      // 计算平均心率\n      const avgHeartRate = monthRuns.reduce((sum, run) => sum + (run.frontmatter.avg_heartrate || 0), 0) / monthRuns.length;\n      \n      return {\n        ...monthData,\n        pace: `${paceMin}'${paceSec.toString().padStart(2, '0')}\"`,\n        heartrate: Math.round(avgHeartRate)\n      };\n    }\n    return monthData;\n  });\n  return (\n    <div style={{ flex: '1 1 100%', minWidth: '280px', maxWidth: '100%', background: 'white', padding: '20px', borderRadius: '14px', boxShadow: '0 4px 20px rgba(0,0,0,0.05)', height: '300px', display: 'flex', flexDirection: 'column' }}>\n      <h3 style={{ margin: '0 0 15px 0', color: '#333', fontSize: '17px', fontWeight: '600' }}>年度统计</h3>\n      <div style={{ flex: 1, position: 'relative', minHeight: 0, overflow: 'hidden', height: '250px', padding: '5px 0' }}>\n        <VictoryChart\n          theme={VictoryTheme.material}\n          domainPadding={{ x: 30 }}\n          height={250}\n          containerComponent={<VictoryContainer responsive={false}/>}\n          padding={{ top: 30, bottom: 40, left: 30, right: 30 }}\n        >\n          <VictoryBar\n            data={data}\n            // Apple 风格的 VictoryBar 样式配置\n            cornerRadius={{ top: 8 }}\n            barWidth={20}\n            style={{ \n              data: { \n                fill: '#fc4c02', \n                strokeWidth: 0,\n                // 添加渐变和阴影效果\n                fillOpacity: 0.9,\n                filter: 'drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))',\n              }\n            }}\n            labelComponent={\n              <VictoryTooltip\n                style={{ fontSize: 12 }}\n                flyoutStyle={{ stroke: 'rgba(252, 76, 2, 0.3)', strokeWidth: 1, fill: 'white', borderRadius: 8, boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)' }}\n                flyoutPadding={{ top: 5, bottom: 5, left: 10, right: 10 }}\n                constrainToVisibleArea\n                activateData={true}\n              />\n            }\n            labels={({ datum }) => {\n              const stats = monthlyStats.find(m => m.x === datum.x);\n              return datum.y > 0\n                ? `${datum.x}: ${datum.y.toFixed(1)}km\\n配速: ${stats.pace || '-'}/km\\n心率: ${stats.heartrate || '-'}次/分钟`\n                : `${datum.x}: 无跑步记录`;\n            }}\n          />\n          <VictoryAxis\n            style={{\n              tickLabels: { fontSize: 11, padding: 5, angle: -45, textAnchor: 'end', fontWeight: 500, fill: '#555' },\n              grid: { stroke: 'none' },\n              axis: { stroke: '#f0f0f0', strokeWidth: 1 }\n            }}\n          />\n          <VictoryAxis dependentAxis\n            style={{\n              tickLabels: { fontSize: 11, padding: 5, fill: '#555', fontWeight: 500 },\n              grid: { stroke: '#f7f7f7', strokeWidth: 1, strokeDasharray: '4, 4' },\n              axis: { stroke: '#f0f0f0', strokeWidth: 1 }\n            }}\n          />\n        </VictoryChart>\n      </div>\n    </div>\n  )\n}\n\nexport default YearlyChart","import React from 'react'\nimport { useStaticQuery, graphql } from 'gatsby'\nimport { StaticImage } from 'gatsby-plugin-image'\n\nconst Profile = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      allMarkdownRemark(filter: {fileAbsolutePath: {regex: \"/src/profile/profile.md$/\"}}) {\n        nodes {\n          frontmatter {\n            title\n            name\n            location\n            occupation\n            goal\n            description\n            pb_1500m\n            pb_5km\n            pb_half\n            pb_full\n          }\n          html\n        }\n      }\n    }\n  `)\n\n  const profileData = data.allMarkdownRemark.nodes[0] || {}\n  const { frontmatter = {} } = profileData\n\n  // 从 frontmatter 中获取个人最好成绩数据\n  const personalBests = [\n    { icon: '🏃', label: '1500米', value: frontmatter.pb_1500m || '5:30' },\n    { icon: '🏃', label: '5公里', value: frontmatter.pb_5km || '24:30' },\n    { icon: '🏃', label: '半马', value: frontmatter.pb_half || '1:45:00' },\n    { icon: '🏃', label: '全马', value: frontmatter.pb_full || '4:10:30' }\n  ]\n  \n  const personalIntro = frontmatter.goal || 'NOW OR NEVER.'\n\n  return (\n    <div style={{ flex: '1 1 100%', minWidth: '280px', maxWidth: '100%', background: 'white', padding: '15px', borderRadius: '10px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)', height: '300px', display: 'flex', flexDirection: 'column' }}>\n      {/* 头像区域 */}\n      <div style={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        marginBottom: '8px',\n        flex: '0 0 auto'\n      }}>\n        <div style={{\n          width: '100px',\n          height: '100px',\n          borderRadius: '50%',\n          overflow: 'hidden',\n          border: '2px solid #fc4c02',\n          marginBottom: '5px'\n        }}>\n          <StaticImage\n            src=\"../images/running.png\"\n            alt=\"头像\"\n            width={100}\n            height={100}\n            style={{\n              borderRadius: '50%',\n              width: '100%',\n              height: '100%',\n              objectFit: 'cover'\n            }}\n          />\n        </div>\n      </div>\n\n      {/* 内容区域 */}\n      <div className=\"profile-container\" style={{ flex: 1, position: 'relative', minHeight: 0, overflow: 'hidden', height: '250px', padding: '2px 0', display: 'flex', flexDirection: 'column', gap: '6px' }}>\n        {/* 个人简介 */}\n        <div className=\"profile-intro\" style={{\n          background: '#f8f9fa',\n          borderRadius: '8px',\n          padding: '8px',\n          flex: '0 0 auto',\n          boxSizing: 'border-box'\n        }}>\n          <h3 style={{\n            margin: '0 0 5px 0',\n            fontSize: '14px',\n            color: '#fc4c02',\n            fontWeight: 500,\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px'\n          }}>\n            <span>🏆</span> 个人简介\n          </h3>\n          <div style={{\n            fontSize: '14px',\n            lineHeight: '1.5',\n            color: '#444',\n            textAlign: 'center',\n            fontWeight: '500',\n            fontStyle: 'italic'\n          }}>\n            {personalIntro}\n          </div>\n        </div>\n        \n        {/* 个人最好成绩 */}\n        <div className=\"profile-pb\" style={{\n          background: '#f8f9fa',\n          borderRadius: '8px',\n          padding: '8px',\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          overflow: 'hidden',\n          minHeight: 0\n        }}>\n          <h3 style={{\n            margin: '0 0 5px 0',\n            fontSize: '14px',\n            color: '#fc4c02',\n            fontWeight: 500,\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px'\n          }}>\n            <span>⏱️</span> 我的 PB\n          </h3>\n          <div className=\"profile-pb-grid\" style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(4, 1fr)',\n            gap: '4px',\n            height: '100%',\n            boxSizing: 'border-box',\n            padding: '3px',\n            alignItems: 'center'\n          }}>\n            {personalBests.map((item, index) => (\n              <div \n                key={`pb-${index}`} \n                style={{\n                  background: 'white',\n                  borderRadius: '8px',\n                  padding: '8px 3px',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  boxShadow: '0 2px 4px rgba(0,0,0,0.05)',\n                  height: '100%',\n                  boxSizing: 'border-box',\n                  transition: 'transform 0.2s, box-shadow 0.2s'\n                }}\n              >\n                <div style={{\n                  fontSize: '14px',\n                  marginBottom: '2px',\n                  color: '#fc4c02',\n                  fontWeight: 500\n                }}>\n                  {item.label}\n                </div>\n                <div style={{\n                  fontSize: '11px',\n                  fontWeight: '600',\n                  color: '#333',\n                  background: 'rgba(252, 76, 2, 0.1)',\n                  padding: '1px 3px',\n                  borderRadius: '4px',\n                  minWidth: '30px',\n                  textAlign: 'center',\n                  whiteSpace: 'nowrap'\n                }}>\n                  {item.value}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Profile","import React, { useState, useEffect } from 'react'\nimport { window } from 'browser-monads'\nimport { Link } from 'gatsby'\n\nconst AllRunsData = ({ runs }) => {\n  const [currentPage, setCurrentPage] = useState(1)\n  const [sortedRunData, setSortedRunData] = useState([])\n  const [isMobile, setIsMobile] = useState(false)\n  const itemsPerPage = 10\n  \n  // 检测移动设备\n  useEffect(() => {\n    setIsMobile(window.innerWidth <= 768)\n    \n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 768)\n    }\n    \n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n  \n  // 从文件路径中提取时间信息的辅助函数\n  const getTimeFromPath = (path) => {\n    if (!path) return '';\n    const match = path.match(/_(\\d{4}-\\d{2}-\\d{2}T\\d{2}-\\d{2})/);\n    return match ? match[1] : '';\n  }\n  \n  // 格式化日期时间为 YYYY-MM-DD HH:MM 格式\n  const formatDateTime = (dateStr, timeInfo) => {\n    const date = new Date(dateStr);\n    let hours = date.getHours();\n    let minutes = date.getMinutes();\n    \n    // 如果有文件名中提取的时间信息，优先使用它\n    if (timeInfo) {\n      const timePart = timeInfo.split('T')[1];\n      if (timePart) {\n        const [h, m] = timePart.split('-');\n        hours = parseInt(h, 10);\n        minutes = parseInt(m, 10);\n      }\n    }\n    \n    return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')} ${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;\n  }\n\n  // 在组件挂载时对数据进行排序\n  useEffect(() => {\n    // 创建一个带有唯一ID和时间信息的数据副本\n    const processedData = runs.map((run, index) => {\n      // 从文件路径提取时间信息\n      const timeInfo = getTimeFromPath(run.fileAbsolutePath);\n      \n      // 使用新的格式化函数处理日期时间\n      const date = new Date(run.frontmatter.date);\n      const displayTime = formatDateTime(run.frontmatter.date, timeInfo);\n      const formattedDate = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;\n      \n      return {\n        ...run,\n        _id: index,  // 唯一标识符\n        _date: date, // 日期对象\n        _timeInfo: timeInfo, // 原始时间信息\n        _displayTime: displayTime, // 用于显示的格式化时间\n        _dateString: formattedDate // 统一格式的日期字符串\n      };\n    });\n    \n    // 按日期、时间和唯一ID排序\n    const sortedData = processedData.sort((a, b) => {\n      // 首先按日期降序排序\n      const dateCompare = b._date - a._date;\n      if (dateCompare !== 0) return dateCompare;\n      \n      // 如果日期相同，按时间信息排序\n      if (a._timeInfo && b._timeInfo) {\n        return b._timeInfo.localeCompare(a._timeInfo);\n      }\n      \n      // 如果时间信息缺失，按距离排序\n      const distanceCompare = b.frontmatter.distance - a.frontmatter.distance;\n      if (distanceCompare !== 0) return distanceCompare;\n      \n      // 最后使用唯一ID确保排序稳定性\n      return a._id - b._id;\n    });\n    \n    setSortedRunData(sortedData);\n    setCurrentPage(1); // 重置当前页码\n  }, [runs]);\n\n  // 从文件路径中提取活动ID\n  const getActivityIdFromPath = (path) => {\n    if (!path) return '';\n    const match = path.match(/\\/([0-9]+)_/);\n    return match ? match[1] : '';\n  };\n\n  return (\n    <div style={{ \n      background: 'white', \n      padding: isMobile ? '15px' : '20px', \n      borderRadius: isMobile ? '8px' : '10px', \n      boxShadow: '0 2px 4px rgba(0,0,0,0.1)', \n      marginTop: isMobile ? '20px' : '30px' \n    }}>\n      <h3 style={{ \n        margin: '0 0 15px 0', \n        color: '#333',\n        fontSize: isMobile ? '18px' : '20px' \n      }}>所有数据</h3>\n      <div style={{ \n        overflowX: isMobile ? 'auto' : 'visible',\n        WebkitOverflowScrolling: 'touch',\n        marginBottom: '10px'\n      }}>\n        <table style={{ \n          width: '100%', \n          borderCollapse: 'collapse', \n          minWidth: isMobile ? '600px' : 'auto',\n          fontSize: isMobile ? '14px' : '16px'\n        }}>\n          <thead>\n            <tr style={{ borderBottom: '2px solid #eee' }}>\n              <th style={{ padding: isMobile ? '8px' : '12px', textAlign: 'left' }}>日期</th>\n              <th style={{ padding: isMobile ? '8px' : '12px', textAlign: 'right' }}>距离 (km)</th>\n              <th style={{ padding: isMobile ? '8px' : '12px', textAlign: 'right' }}>时长</th>\n              <th style={{ padding: isMobile ? '8px' : '12px', textAlign: 'right' }}>配速</th>\n              <th style={{ padding: isMobile ? '8px' : '12px', textAlign: 'right' }}>心率</th>\n              <th style={{ padding: isMobile ? '8px' : '12px', textAlign: 'right' }}>海拔 (m)</th>\n              <th style={{ padding: isMobile ? '8px' : '12px', textAlign: 'center' }}>详情</th>\n            </tr>\n          </thead>\n          <tbody>\n            {sortedRunData\n              .slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage)\n              .map((run) => {\n                const duration = run.frontmatter.duration\n                const hours = Math.floor(duration / 3600)\n                const minutes = Math.floor((duration % 3600) / 60)\n                const avgPaceMin = Math.floor(run.frontmatter.avg_pace)\n                const avgPaceSec = Math.round((run.frontmatter.avg_pace % 1) * 60)\n                \n                // 提取活动ID用于详情页链接\n                const activityId = getActivityIdFromPath(run.fileAbsolutePath);\n                \n                return (\n                  <tr key={run._id} style={{ borderBottom: '1px solid #f5f5f5' }}>\n                    <td style={{ padding: isMobile ? '8px' : '10px', fontWeight: 500 }}>\n                      {run._displayTime}\n                    </td>\n                    <td style={{ padding: isMobile ? '8px' : '10px', textAlign: 'right' }}>\n                      {(run.frontmatter.distance / 1000).toFixed(2)}\n                    </td>\n                    <td style={{ padding: isMobile ? '8px' : '10px', textAlign: 'right' }}>\n                      {hours}小时{minutes}分钟\n                    </td>\n                    <td style={{ padding: isMobile ? '8px' : '10px', textAlign: 'right' }}>\n                      {avgPaceMin}'{avgPaceSec.toString().padStart(2, '0')}/km\n                    </td>\n                    <td style={{ padding: isMobile ? '8px' : '10px', textAlign: 'right' }}>\n                      {Math.round(run.frontmatter.avg_heartrate || 0)}\n                    </td>\n                    <td style={{ padding: isMobile ? '8px' : '10px', textAlign: 'right' }}>\n                      {Math.round(run.frontmatter.elevation || 0)}\n                    </td>\n                    <td style={{ padding: isMobile ? '8px' : '10px', textAlign: 'center' }}>\n                      <Link \n                        to={`/run/${activityId}`} \n                        style={{ \n                          display: 'inline-block',\n                          padding: isMobile ? '4px 8px' : '5px 10px',\n                          backgroundColor: '#fc4c02',\n                          color: 'white',\n                          textDecoration: 'none',\n                          borderRadius: '4px',\n                          fontSize: isMobile ? '12px' : '14px'\n                        }}\n                      >\n                        查看详情\n                      </Link>\n                    </td>\n                  </tr>\n                )\n              })}\n          </tbody>\n        </table>\n      </div>\n      \n      <div style={{ \n        marginTop: isMobile ? '15px' : '20px', \n        display: 'flex', \n        justifyContent: 'center',\n        alignItems: 'center',\n        flexWrap: 'wrap'\n      }}>\n        <button\n          onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\n          disabled={currentPage <= 1}\n          style={{ \n            padding: isMobile ? '4px 8px' : '8px 16px', \n            margin: '0 5px', \n            background: currentPage <= 1 ? '#e0e0e0' : '#fc4c02', \n            color: 'white', \n            border: 'none', \n            borderRadius: '4px',\n            cursor: currentPage <= 1 ? 'not-allowed' : 'pointer',\n            fontSize: isMobile ? '14px' : '16px'\n          }}\n        >\n          上一页\n        </button>\n        \n        <span style={{ \n          padding: isMobile ? '6px 10px' : '8px 16px',\n          margin: '0 10px',\n          backgroundColor: '#f5f5f5',\n          borderRadius: '4px',\n          fontSize: isMobile ? '14px' : '16px',\n          fontWeight: '500'\n        }}>\n          第 {currentPage} 页 / 共 {Math.ceil(sortedRunData.length / itemsPerPage)} 页\n        </span>\n        \n        <button\n          onClick={() => setCurrentPage(prev => prev + 1)}\n          disabled={currentPage >= Math.ceil(sortedRunData.length / itemsPerPage)}\n          style={{ \n            padding: isMobile ? '4px 8px' : '8px 16px', \n            margin: '0 5px', \n            background: currentPage >= Math.ceil(sortedRunData.length / itemsPerPage) ? '#e0e0e0' : '#fc4c02', \n            color: 'white', \n            border: 'none', \n            borderRadius: '4px',\n            cursor: currentPage >= Math.ceil(sortedRunData.length / itemsPerPage) ? 'not-allowed' : 'pointer',\n            fontSize: isMobile ? '14px' : '16px'\n          }}\n        >\n          下一页\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default AllRunsData\n","import React from 'react'\n\nconst StatsSummary = ({ runs, isMobile }) => {\n  // 筛选当前年份的数据\n  const filteredRuns = runs.filter(run => {\n    const runDate = new Date(run.frontmatter.date)\n    const now = new Date()\n    return runDate.getFullYear() === now.getFullYear()\n  })\n\n  // 计算总距离\n  const totalDistance = filteredRuns.reduce((sum, run) => sum + run.frontmatter.distance / 1000, 0)\n  \n  // 计算总时长\n  const totalDuration = filteredRuns.reduce((sum, run) => sum + (run.frontmatter.duration || 0), 0)\n  \n  // 计算总爬升\n  const totalElevation = filteredRuns.reduce((sum, run) => sum + (run.frontmatter.elevation || 0), 0)\n  \n  // 计算平均配速\n  const avgPace = filteredRuns.length > 0 \n    ? filteredRuns.reduce((sum, run) => sum + (run.frontmatter.avg_pace || 0), 0) / filteredRuns.length\n    : 0\n  \n  const paceMinutes = Math.floor(avgPace)\n  const paceSeconds = Math.floor((avgPace - paceMinutes) * 60)\n  const formattedPace = filteredRuns.length > 0 \n    ? `${paceMinutes}'${paceSeconds.toString().padStart(2, '0')}\"`\n    : \"0'00\\\"\"\n\n  return (\n    <div className=\"summary-cards\" style={{ \n      display: 'grid', \n      gridTemplateColumns: isMobile ? '1fr 1fr' : 'repeat(auto-fit, minmax(280px, 1fr))', \n      gap: '20px', \n      marginTop: '20px' \n    }}>\n      <div style={{ background: '#fff', padding: '20px', borderRadius: '8px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' }}>\n        <h3>📏 总距离</h3>\n        <p style={{ fontSize: '24px', color: '#fc4c02' }}>\n          {totalDistance.toFixed(1)} km\n        </p>\n      </div>\n      \n      <div style={{ background: '#fff', padding: '20px', borderRadius: '8px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' }}>\n        <h3>⏱️ 总时长</h3>\n        <p style={{ fontSize: '24px', color: '#fc4c02' }}>\n          {Math.floor(totalDuration / 3600)}小时{Math.floor((totalDuration % 3600)/60)}分钟\n        </p>\n      </div>\n      \n      <div style={{ background: '#fff', padding: '20px', borderRadius: '8px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' }}>\n        <h3>⛰️ 总爬升</h3>\n        <p style={{ fontSize: '24px', color: '#fc4c02' }}>\n          {Math.floor(totalElevation)} 米\n        </p>\n      </div>\n      \n      <div style={{ background: '#fff', padding: '20px', borderRadius: '8px', boxShadow: '0 2px 4px rgba(0,0,0,0.1)' }}>\n        <h3>🏃 平均配速</h3>\n        <p style={{ fontSize: '24px', color: '#fc4c02' }}>\n          {formattedPace}/KM\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default StatsSummary\n","import React, { useState, useEffect } from 'react'\nimport { VictoryBar, VictoryChart, VictoryTheme, VictoryLabel, VictoryAxis, VictoryContainer } from 'victory'\nimport { graphql } from 'gatsby'\nimport { window } from 'browser-monads'\nimport WeeklyChart from '../components/WeeklyChart'\nimport MonthlyHeatmap from '../components/MonthlyHeatmap'\nimport YearlyChart from '../components/YearlyChart'\nimport Profile from '../components/Profile'\nimport AllRunsData from '../components/AllRunsData'\nimport StatsSummary from '../components/StatsSummary'\nimport '../styles/mobile.css'\n\nexport const query = graphql`\n  query {\n    allMarkdownRemark {\n      nodes {\n        frontmatter {\n          date\n          distance\n          duration\n          elevation\n          avg_speed\n          max_speed\n          avg_pace\n          max_pace\n          avg_heartrate\n          max_heartrate\n          calories\n        }\n        fileAbsolutePath\n      }\n    }\n  }\n`\n\nconst IndexPage = ({ data }) => {\n  const runs = data.allMarkdownRemark.nodes\n  const [selectedRange, setSelectedRange] = useState('week')\n  const [isMobile, setIsMobile] = useState(false)\n\n\n  \n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= 768)\n    }\n    \n    handleResize()\n    window.addEventListener('resize', handleResize)\n    \n    return () => {\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [])\n\n  // 移动端样式已移至外部 CSS 文件 src/styles/mobile.css\n\n  const processData = () => {\n    const now = new Date()\n    // 首先过滤符合时间范围的跑步数据\n    const filteredData = runs.filter(run => {\n      const runDate = new Date(run.frontmatter.date)\n      const timeDiff = now - runDate\n      \n      switch(selectedRange) {\n        case 'week':\n          return timeDiff < 7 * 86400000\n        case 'month':\n          return runDate.getMonth() === now.getMonth() && \n                 runDate.getFullYear() === now.getFullYear()\n        case 'year':\n          return runDate.getFullYear() === now.getFullYear()\n        default:\n          return true\n      }\n    })\n    \n    // 按日期分组数据\n    const groupedByDate = {}\n    \n    filteredData.forEach(run => {\n      const date = new Date(run.frontmatter.date)\n      const formattedDate = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\n      \n      if (!groupedByDate[formattedDate]) {\n        groupedByDate[formattedDate] = []\n      }\n      \n      groupedByDate[formattedDate].push(run)\n    })\n    \n    // 合并每天的数据\n    return Object.entries(groupedByDate).map(([date, dayRuns]) => {\n      // 计算总距离\n      const totalDistance = dayRuns.reduce((sum, run) => sum + run.frontmatter.distance / 1000, 0)\n      \n      // 计算加权平均配速\n      let totalWeightedPace = 0\n      let totalHeartRate = 0\n      let totalHeartRateWeight = 0\n      \n      dayRuns.forEach(run => {\n        const distance = run.frontmatter.distance / 1000\n        if (run.frontmatter.avg_pace) {\n          totalWeightedPace += run.frontmatter.avg_pace * distance\n        }\n        \n        if (run.frontmatter.avg_heartrate) {\n          totalHeartRate += run.frontmatter.avg_heartrate * distance\n          totalHeartRateWeight += distance\n        }\n      })\n      \n      // 计算平均配速和心率\n      const avgPace = totalDistance > 0 ? totalWeightedPace / totalDistance : 0\n      const avgHeartRate = totalHeartRateWeight > 0 ? totalHeartRate / totalHeartRateWeight : 0\n      \n      // 添加跑步次数信息\n      const runsCount = dayRuns.length\n      \n      return {\n        x: date,\n        y: parseFloat(totalDistance.toFixed(2)), // 保持精度一致，保留两位小数\n        pace: avgPace > 0 ? `${Math.floor(avgPace)}:${Math.floor((avgPace % 1) * 60).toString().padStart(2, '0')}` : '-',\n        heartrate: avgHeartRate > 0 ? Math.round(avgHeartRate) : '-',\n        runsCount: runsCount\n      }\n    })\n  }\n\n  const filteredRuns = processData()\n  \n  // 根据当前选择的时间范围筛选原始数据 - 这部分逻辑已移到 StatsSummary 组件中\n\n  // 处理月度日历数据 - 使用与周视图相同的处理方式\n  // 首先按日期分组原始数据\n  const calendarGroupedByDate = {}\n  \n  runs.forEach(run => {\n    const date = new Date(run.frontmatter.date)\n    const formattedDate = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\n    \n    if (!calendarGroupedByDate[formattedDate]) {\n      calendarGroupedByDate[formattedDate] = []\n    }\n    \n    calendarGroupedByDate[formattedDate].push(run)\n  })\n  \n  // 合并每天的数据\n  const calendarData = Object.entries(calendarGroupedByDate).map(([date, dayRuns]) => {\n    // 计算总距离\n    const totalDistance = dayRuns.reduce((sum, run) => sum + run.frontmatter.distance / 1000, 0)\n    \n    // 计算加权平均配速和心率\n    let totalWeightedPace = 0\n    let totalHeartRate = 0\n    let totalHeartRateWeight = 0\n    \n    dayRuns.forEach(run => {\n      const distance = run.frontmatter.distance / 1000\n      if (run.frontmatter.avg_pace) {\n        totalWeightedPace += run.frontmatter.avg_pace * distance\n      }\n      \n      if (run.frontmatter.avg_heartrate) {\n        totalHeartRate += run.frontmatter.avg_heartrate * distance\n        totalHeartRateWeight += distance\n      }\n    })\n    \n    // 计算平均配速和心率\n    const avgPace = totalDistance > 0 ? totalWeightedPace / totalDistance : 0\n    const avgHeartRate = totalHeartRateWeight > 0 ? totalHeartRate / totalHeartRateWeight : 0\n    \n    // 添加跑步次数信息\n    const runsCount = dayRuns.length\n    \n    return {\n      day: date,\n      value: parseFloat(totalDistance.toFixed(2)), // 保留两位小数，保持精度一致\n      pace: avgPace,\n      heartrate: avgHeartRate,\n      runsCount: runsCount\n    }\n  }).sort((a, b) => new Date(a.day) - new Date(b.day));\n\n  // 获取当前日期范围\n  const now = new Date()\n  const currentYear = now.getFullYear()\n  const currentMonth = now.getMonth()\n  const startDate = new Date(currentYear, currentMonth, 1) // 从当前月份开始\n  const endDate = new Date(currentYear, currentMonth + 1, 0) // 到当前月底结束\n\n  // 获取数据中的最大跑步距离\n  const maxDistance = Math.max(...calendarData.filter(data => {\n    const date = new Date(data.day)\n    return date.getMonth() === currentMonth && date.getFullYear() === currentYear\n  }).map(data => data.value))\n\n  // 处理年度数据\n  const yearlyData = runs.reduce((acc, run) => {\n    const date = new Date(run.frontmatter.date)\n    const currentYear = new Date().getFullYear()\n    if (date.getFullYear() === currentYear) {\n      const monthIdx = date.getMonth() // 0-11\n      if (!acc[monthIdx]) acc[monthIdx] = 0\n      acc[monthIdx] += run.frontmatter.distance / 1000\n    }\n    return acc\n  }, {})\n\n  // 生成完整的12个月份数据\n  const monthLabels = ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']\n  const yearlyChartData = monthLabels.map((label, idx) => ({\n    x: label,\n    y: yearlyData[idx] || 0\n  }))\n\n  return (\n    <main style={{ maxWidth: '1400px', margin: '0 auto', padding: '20px' }}>\n      <div className=\"dashboard-cards\" style={{ \n        display: 'grid', \n        gridTemplateColumns: isMobile ? '1fr' : 'repeat(4, 1fr)', \n        gap: '20px', \n        marginBottom: '20px' \n      }}>\n        <Profile />\n        <WeeklyChart data={filteredRuns} />\n        <MonthlyHeatmap \n          startDate={startDate} \n          endDate={endDate} \n          calendarData={calendarData.filter(item => {\n            const date = new Date(item.day);\n            return date.getMonth() === currentMonth && date.getFullYear() === currentYear;\n          })} \n          maxDistance={maxDistance} \n        />\n        <YearlyChart data={yearlyChartData} runs={runs} />\n      </div>\n\n      <StatsSummary runs={runs} isMobile={isMobile} />\n\n      <AllRunsData runs={runs} />\n    </main>\n  )\n}\n\nexport default IndexPage\n\nexport const Head = () => <title>跑步数据看板</title>\n","var n,r=((n=function(){return r}).toString=n.toLocaleString=n[Symbol.toPrimitive]=function(){return\"\"},n.valueOf=function(){return!1},new Proxy(Object.freeze(n),{get:function(n,t){return n.hasOwnProperty(t)?n[t]:r}})),t=function(n){return!(!n||!n.valueOf())},u=function(n){return n===r},e=function(n){return!(n===r||null==n)},o=function(n){return JSON.stringify(n,function(n,t){return t===r?null:t})},i=function(n){return JSON.parse(n,function(n,t){return null===t?r:t})};export{r as Nothing,i as deserialize,u as isNothing,e as isSomething,o as serialize,t as toBool};\n//# sourceMappingURL=nothing-mock.es.js.map\n"],"names":["_require","Nothing","isNothing","win","window","doc","document","module","exports","UPPERCASE","LOWERCASE","LEADING_CAPITAL","IDENTIFIER","SEPARATORS","LEADING_SEPARATORS","RegExp","source","SEPARATORS_AND_IDENTIFIER","NUMBERS_AND_IDENTIFIER","camelCase","input","options","Array","isArray","TypeError","pascalCase","preserveConsecutiveUppercase","map","x","trim","filter","length","join","toLowerCase","locale","string","toLocaleLowerCase","toUpperCase","toLocaleUpperCase","isLastCharLower","isLastCharUpper","isLastLastCharUpper","i","character","test","slice","preserveCamelCase","replace","lastIndex","m1","charAt","_","identifier","m","postProcess","hasNativeLazyLoadSupport","HTMLImageElement","prototype","srcSet","width","height","layout","wrapperStyle","className","style","getMainProps","isLoading","isLoaded","images","loading","shouldLoad","_extends","opacity","getPlaceholderProps","placeholder","backgroundColor","objectFit","objectPosition","position","top","left","bottom","right","result","transition","Sizer","React","createElement","paddingTop","maxWidth","display","alt","role","src","LayoutWrapper","_ref","children","props","_objectWithoutPropertiesLoose","Fragment","Image","decoding","Picture","_ref2","fallback","sources","sizes","media","type","key","fallbackImage","propTypes","PropTypes","isRequired","displayName","Placeholder","_Picture$propTypes","propName","componentName","Error","MainImage","removeNewLines","str","altValidator","rest","image","_excluded","Set","renderImageToStringPromise","renderImage","GatsbyImageHydrator","as","class","preactClass","onStartLoad","onLoad","onError","getWrapperProps","wStyle","wClass","wrapperProps","root","useRef","useMemo","JSON","stringify","sizer","useEffect","import","then","renderImageToString","swapPlaceholderImage","ssrImage","current","querySelector","complete","wasCached","setTimeout","removeAttribute","addEventListener","removeEventListener","onLoadListener","imageCache","add","cacheKey","has","animationFrame","cleanupCallback","innerHTML","requestAnimationFrame","cancelAnimationFrame","useLayoutEffect","ref","dangerouslySetInnerHTML","__html","suppressHydrationWarning","GatsbyImage","memo","_getStaticImage","StaticImage","__imageData","imageData","__error","console","warn","imgClassName","imgStyle","placeholderBackgroundColor","cleanedImages","checkDimensionProps","number","validLayouts","GatsbyImageBrowser","getBaseProps","initialProps","fallbackProps","modifiedProps","Object","assign","polar","defaultStyles","disableInlineStyles","range","y","domain","scale","horizontal","origin","undefined","data","groupComponent","datum","_x","_y","getCalculatedValues","alignment","barRatio","cornerRadius","events","padding","sharedEvents","standalone","theme","labels","name","barWidth","getPath","initialChildProps","parent","reduce","childProps","index","eventKey","y0","x0","getDefaultMin","axis","defaultMin","Number","MAX_SAFE_INTEGER","minY","maxY","Date","_y0","_x0","getBarPosition","dataProps","text","getCornerRadius","realCornerRadius","topLeft","topRight","bottomLeft","bottomRight","isCornerRadiusObject","updateCornerRadius","corner","getCornerRadiusFromObject","point","distance","p1","Math","sqrt","pow","this","subtract","scalarMult","n","scalarDivide","equals","circle","center","radius","hasIntersection","circle1","P0","P1","r0","r1","d","abs","intersection","a","h","P2","x1","y1","x2","y2","P3s","sort","Point1","Point2","solveX","solveY","getPosition","size","sign","getAngle","_x1","transformAngle","angle","PI","mapPointsToPath","coords","direction","topLeftPath","topRightPath","acc","command","getVerticalBarPath","points","cr","getHalfPoints","side","isLeft","signL","bottomPoint","bottomMiddlePoint","topMiddlePoint","topPoint","topCenter","topCircle","bottomCenter","bottomCircle","circleIntersection","arcIntersection","newX","reverse","concat","getVerticalBarPoints","getHorizontalBarPath","isTop","leftPoint","leftMiddlePoint","rightMiddlePoint","rightPoint","leftCenter","leftCircle","rightCenter","rightCircle","newY","topPoints","bottomPoints","getHorizontalBarPoints","getVerticalPolarBarPath","r2","_y1","currentAngle","start","end","r","max","angularRange","getAngularWidth","previousAngle","getStartAngle","lastAngle","nextAngle","getEndAngle","edge","innerRadius","outerRadius","startAngle","endAngle","pathFunction","getPathData","rightPath","rightMoves","match","rightCoords","split","rightMiddle","indexOf","leftPath","leftMoves","leftCoords","leftMiddle","topPath","arcLength","moves","isShort","middle","rightOffset","leftOffset","defaultOffset","subMoves","subCoords","getTopPath","bottomPath","getBottomPath","move","getBarPath","getCustomBarPath","evaluateProps","baseStyle","fill","stroke","getStyle","extent","bars","defaultWidth","getBarWidth","ariaLabel","desc","id","tabIndex","defaultProps","pathComponent","shapeRendering","Bar","forwardRef","path","getPolarBarPath","defaultTransform","clipPath","transform","defaultData","VictoryBarBase","static","duration","before","after","onExit","yOffset","onEnter","containerComponent","dataComponent","labelComponent","samples","sortOrder","grayscale","shouldAnimate","animate","render","animationWhitelist","VictoryBar","animateComponent","renderData","shouldRenderDatum","component","renderContainer","getFlyoutPath","orientation","pointerWidth","dx","dy","centerX","centerY","pointerEdge","oppositeEdge","bottomEdge","topEdge","pointerLength","arc","getHorizontalPath","rightEdge","leftEdge","getVerticalPath","Flyout","userProps","flyoutPathProps","VictoryTooltip","active","renderInPortal","flyoutComponent","activate","activateData","target","mutation","deactivate","eventHandlers","onMouseOver","onFocus","onTouchStart","onMouseOut","onBlur","onTouchEnd","constructor","super","getDefaultOrientation","positive","negative","getPolarOrientation","degrees","placement","labelPlacement","getVerticalOrientations","getStyles","defaultLabelStyles","tooltip","baseLabelStyle","s","defaultFlyoutStyles","flyoutStyle","baseFlyoutStyle","getEvaluatedProps","centerOffset","toString","flyoutPadding","getLabelPadding","labelSize","flyoutHeight","flyoutWidth","getDimensions","evaluatedProps","offsetX","offsetY","flyoutDimensions","flyoutCenter","getFlyoutCenter","getTransform","getDefaultAngle","constrainTooltip","dimensions","flyoutExtent","adjustments","round","constrainToVisibleArea","xSign","ySign","centerWithOffset","paddings","calculatedHeight","minHeight","getHeight","calculatedWidth","minWidth","getWidth","getLabelProps","calculatedValues","activePoints","textAnchor","getLabelX","verticalAnchor","getPointerOrientation","edges","gaps","val","getFlyoutProps","pointerOrientation","renderTooltip","V","weekDates","now","day","getDay","monday","setDate","getDate","from","toISOString","getWeekDates","dataMap","fromEntries","dateStr","dt","isNaN","String","filledData","date","pace","heartrate","flex","background","borderRadius","boxShadow","flexDirection","margin","color","fontSize","fontWeight","overflow","VictoryTheme","material","domainPadding","responsive","strokeWidth","fillOpacity","toFixed","runsCount","tickValues","tickFormat","idx","tickLabels","grid","tickLabelComponent","dependentAxis","strokeDasharray","startDate","endDate","calendarData","maxDistance","firstDayOfMonth","firstWeekdayOfMonth","daysInMonth","calendarGrid","push","dailyTotalDistances","dailyAvgPace","dailyAvgHeartRate","getFullYear","getMonth","formattedDate","padStart","dayRuns","item","totalDistance","sum","run","value","totalWeightedPace","totalHeartRate","totalHeartRateWeight","forEach","maxDailyDistance","values","numRows","ceil","calendarRows","row","weekDays","col","activeTooltip","setActiveTooltip","useState","handleDayClick","dayData","event","preventDefault","rect","currentTarget","getBoundingClientRect","week","weekIndex","dayIndex","min","paceInfo","heartRateInfo","floor","colorClass","tooltipText","title","onClick","e","marginTop","renderDay","border","zIndex","whiteSpace","runs","monthlyStats","monthData","monthRuns","monthIndex","frontmatter","monthName","parseInt","avgPace","avg_pace","paceMin","paceSec","avgHeartRate","avg_heartrate","stats","find","profileData","useStaticQuery","allMarkdownRemark","nodes","personalBests","icon","label","pb_1500m","pb_5km","pb_half","pb_full","personalIntro","goal","alignItems","marginBottom","S","gap","boxSizing","lineHeight","textAlign","fontStyle","gridTemplateColumns","justifyContent","currentPage","setCurrentPage","sortedRunData","setSortedRunData","isMobile","setIsMobile","itemsPerPage","innerWidth","handleResize","processedData","timeInfo","getTimeFromPath","fileAbsolutePath","displayTime","hours","getHours","minutes","getMinutes","timePart","formatDateTime","_id","_date","_timeInfo","_displayTime","_dateString","sortedData","b","dateCompare","localeCompare","distanceCompare","overflowX","WebkitOverflowScrolling","borderCollapse","borderBottom","avgPaceMin","avgPaceSec","activityId","getActivityIdFromPath","elevation","to","textDecoration","flexWrap","prev","disabled","cursor","filteredRuns","runDate","totalDuration","totalElevation","paceMinutes","paceSeconds","formattedPace","selectedRange","setSelectedRange","filteredData","timeDiff","groupedByDate","entries","parseFloat","processData","calendarGroupedByDate","currentYear","currentMonth","yearlyData","monthIdx","yearlyChartData","Head","toLocaleString","Symbol","toPrimitive","valueOf","Proxy","freeze","get","t","hasOwnProperty","u","o","parse"],"sourceRoot":""}